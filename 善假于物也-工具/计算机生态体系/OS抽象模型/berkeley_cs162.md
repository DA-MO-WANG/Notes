```shell
#what is an operating system
欢迎来到162。
这里有多少人以前实际编程过操作系统？
或者说这里有人看过一个或编译过一个操作系统吗？好的，多了几个。
到本学期末，希望大家都会举手，并像这样说，是的，那是我一生中最棒的经历！但是，让我们从头开始。
有人想猜这是什么吗？
学生：这是Windows架构的示意图。
任何人都可以，但事实并非如此。
Linux
看到这样的东西，这是一个很好的猜测，但事实并非如此。
学生：这是互联网。
我说因特网是我们作为一个物种所创造的最伟大的人造物之一。它遍及全球。有趣的是，这极其复杂的分支结构一直在运作这完全令人惊讶。如果是168，我们将花费更多时间告诉你为什么这令人惊讶。但是对于这堂课，有趣的是这张图中所有这些小点代表某种客户端，可能与其他节点进行交流。在这些客户端上是操作系统并且存在安全问题。他们需要通信，他们需要保护自己的数据。他们需要做一些有用的事情。尽管这很有趣而且非常复杂，希望我们能给你一些关于如何开始思考的想法。关于互联网规模的有趣之处是在早期。那时候最多在互联网上只能有256个点，因为只有一个字节来定义目的地。然后，它转到了IPv4，规模得以扩大。因此，在90年代的某个时候，我们有了HTTP的第一个版本。突然之间，每个人都对互联网很感兴趣。我想他们想要猫视频或其他东西，对吗？你起床了，现在，我们有达到38亿或更多独立点在我刚刚向您展示的可以交流的巨大图表上直接彼此交流。然后在每一个节点后面可能是成千上万台其他设备。如果在其中添加NAT，则可以添加更多节点。那么为什么是38亿呢？我们在这里遇到什么？有人知道吗？是的，学生：全球！这是个好的想法。但并不是人口起到了限制。【听不清】所以我们实际上遇到了一些限制。是因为互联网的运作方式，因为地址大部分是32位。尽管IPV6可以解决该问题。尽管如此，这仍然太神奇了！38亿台直接连接的设备。它们都在运行操作系统，他们都在以各种方式出错，他们都试图互相通信。因此，它们确实是这一切的核心。那么操作系统，它们做什么呢？好吧，它们做很多东西。实际上，我想这很有趣！如果这是哲学课，我们在喝一杯好啤酒之类的，我们可以对操作系统实际上是什么进行哲学思考。我们会给你一些想法，关于如今一些人认为它是什么。但粗略地说，它提供了一些抽象，针对文件系统，进程、IO和线程，虚拟机和容器这类应用。还有命名系统和资源管理，内存CPU，存储。中间有很多有趣的部分，你们会涉及一些，例如调度，例如并发，传输数据，我一直是系统安全性的忠实拥护者。有太多这类系统。安全性就像螺栓你用上是因为你以为，也许我已经确保安全，所以让我们用这个东西，也许现在就安全了。当然，从来没有完全安全，对吧？因此，例如，您每天都会做某事。So for instance, somethingyou do every day.13000:09:59,410 --> 00:10:03,710用手机搜索时会做什么？What do you do when yousearch with your phone?13100:10:03,710 --> 00:10:06,410好吧，首先，您的电话连接Well, your phone, firstof all, reaches out13200:10:06,410 --> 00:10:08,870到DNS服务器to something calleda DNS server,13300:10:08,870 --> 00:10:12,710可能会解析Google.com或类似问题。to maybe resolve Google.comor something like that.13400:10:12,710 --> 00:10:15,350服务器互相通信，他们决定，The servers talk toeach other, they decide,13500:10:15,350 --> 00:10:18,920给定人名，什么IP地址是相关的。given the human name, whatIP address is related.13600:10:18,920 --> 00:10:22,837然后，你的电话会通过Internet传出，And then your phone reachesout over the internet,13700:10:22,837 --> 00:10:23,670那是什么意思？what does that mean?13800:10:23,670 --> 00:10:25,223好吧，这意味着有一个IP地址Well, it meansthere's an IP address13900:10:25,223 --> 00:10:27,140一路上有很多开关，and there's a bunch ofswitches along the way,14000:10:27,140 --> 00:10:28,910而且以某种方式，这些数据包成功地and somehow, thosepackets make it14100:10:28,910 --> 00:10:32,000通过互联网到达目的地，through the internet tothe destination, which,14200:10:32,000 --> 00:10:34,080当你想到38亿节点时，when you think about3.8 billion things,14300:10:34,080 --> 00:10:37,130这能成功实际上都非常令人惊讶，对吧？it's actually pretty amazingthat even sort of works, right?14400:10:37,130 --> 00:10:40,820我希望你今天下课时至少I hope you leave todaybeing at least a little bit14500:10:40,820 --> 00:10:45,330对这些东西实际上如何运作感到惊叹。amazed at how this stuffactually somehow works.14600:10:45,330 --> 00:10:47,690也许这会引发了你的兴趣。Maybe it triggerssome interest, there.14700:10:47,690 --> 00:10:50,780你的查询传遍互联网So your query goesacross the internet14800:10:50,780 --> 00:10:54,050然后它到达了一个数据中心，例如Googleand then it hits a datacenter, Google, let's say,14900:10:54,050 --> 00:10:57,530在那个数据中心，那个数据包and in that datacenter, that packet15000:10:57,530 --> 00:11:00,110通过负载均衡器goes through aload balancer which15100:11:00,110 --> 00:11:03,110选择一个IP地址并选择takes that one IPaddress and chooses15200:11:03,110 --> 00:11:07,700当时哪个设备不忙，然后查询会what's not busy at the timeand then that query goes15300:11:07,700 --> 00:11:10,550变成一个搜索索引，它会搜索并创建to a search index, whichsearches and creates15400:11:10,550 --> 00:11:13,220结果页，然后转到广告服务器a result page, whichthen goes to an ad server15500:11:13,220 --> 00:11:15,050并添加广告。and adds the ads, of course.15600:11:15,050 --> 00:11:16,980然后结果返回。And then the result goes back.15700:11:16,980 --> 00:11:21,590在这个你每天习以为常So many little pieces of thisprocess that you take for15800:11:21,590 --> 00:11:22,640的过程中，granted every day.15900:11:22,640 --> 00:11:24,978沿着这整条路，And all along thispathway, there16000:11:24,978 --> 00:11:26,270都有操作系统。are operating systems in there.16100:11:29,222 --> 00:11:32,630现在，为什么要学CS162？Now, why should youbother taking CS162?16200:11:32,630 --> 00:11:35,450好，你们当中有些人可能会去Well, some of youare probably going16300:11:35,450 --> 00:11:38,180在将来设计和构建操作系统。to design and build operatingsystems in the future.16400:11:38,180 --> 00:11:40,190在你的创业公司-这里有多少人Your startup-- howmany people here16500:11:40,190 --> 00:11:43,640想过也许有一天会创业吗？have thought of maybe doing astartup someday in their life?16600:11:43,640 --> 00:11:44,810好的。Okay.16700:11:44,810 --> 00:11:46,280你，你。You, you.16800:11:46,280 --> 00:11:47,000行。All right.16900:11:47,000 --> 00:11:49,400有多少人考虑过工作How many people havethought about maybe working17000:11:49,400 --> 00:11:52,070在初创公司或者小公司？at startups or small companies?17100:11:52,070 --> 00:11:53,910更多的人。There you go, more of you.17200:11:53,910 --> 00:11:54,560行。All right.17300:11:54,560 --> 00:11:56,900您可能实际上最终会设计一个操作系统。You might actually end updesigning an operating system.17400:11:56,900 --> 00:11:59,270知道它的作用不是很好吗？Wouldn't it be niceto know what it does?17500:11:59,270 --> 00:12:01,820你们中很多Many of you, evenmore, many more, of you17600:12:01,820 --> 00:12:04,130将要实际编写系统are going to actuallywrite systems17700:12:04,130 --> 00:12:06,147这需要操作系统的核心概念，that use the core conceptsof operating systems,17800:12:06,147 --> 00:12:07,730如果能大概了解你在做什么and it would be agood idea if you had17900:12:07,730 --> 00:12:10,120会很赞。some idea what you were doing.18000:12:10,120 --> 00:12:13,610你很容易将一堆库放在一起，It's very easy to throwtogether a bunch of libraries,18100:12:13,610 --> 00:12:17,840编译，产生一些东西，但是却不懂compile it, producesomething, and have no idea18200:12:17,840 --> 00:12:20,840它是否正常工作或应该如何工作。whether it's working correctlyor how it should work.18300:12:20,840 --> 00:12:24,230我们希望能给您一些想法。And we're going to hopefullygive you some idea about that.18400:12:24,230 --> 00:12:27,110你们所有人都将构建All of you are going tobuild applications that use18500:12:27,110 --> 00:12:28,660使用操作系统的应用程序。operating system, all of you.18600:12:28,660 --> 00:12:30,660就算你参加本课程没有其他原因。If for no other reasonthan you're in this class18700:12:30,660 --> 00:12:32,493然后你们将构建一些应用程序，and you're going tobuild some applications,18800:12:32,493 --> 00:12:36,560希望你在本学期后能这样做。hopefully, you dothis after this term.18900:12:36,560 --> 00:12:39,570你对设计和实现的了解越多，And the better you understandthe design and implementation,19000:12:39,570 --> 00:12:42,200就可以使程序更好地工作。the better you can make it work.19100:12:42,200 --> 00:12:46,020我实际上是抽象的忠实粉丝，I'm actually a bigfan of abstraction,19200:12:46,020 --> 00:12:48,110这意味着不用考虑which means you don't wantto think about details19300:12:48,110 --> 00:12:49,360你不必考虑的细节。you don't have to think about.19400:12:49,360 --> 00:12:51,937但是我还非常热衷But I'm also a reallybig fan of being19500:12:51,937 --> 00:12:54,020能够剥离各层并able to peel back thelayers and understand what's19600:12:54,020 --> 00:12:57,140在需要时了解它们到底在做啥。going on when you need to.19700:12:57,140 --> 00:13:00,407而第二部分经常被遗忘。And it's that second partthat often gets forgotten.19800:13:00,407 --> 00:13:02,990人们忘记了他们应该能够剥离各层People forget that they shouldbe able to peel back the layers19900:13:02,990 --> 00:13:04,948并了解发生了什么，and understand somethingabout what's going on,20000:13:04,948 --> 00:13:09,020尤其是在调试且出现故障时。especially when you're debuggingand something's broken.20100:13:09,020 --> 00:13:12,528所以今天，我们要稍微了解下So today, we'regoing to take a stab20200:13:12,528 --> 00:13:13,820操作系统是什么，at what an operating system is.20300:13:13,820 --> 00:13:16,220以及它不是什么。And maybe what it isn't.20400:13:16,220 --> 00:13:19,100我们将搞清为什么它们如此令人兴奋。We'll try to figure outwhy they're so exciting.20500:13:19,100 --> 00:13:21,440我看出来你们都兴奋了吧？I can tell, you guys areall just excited, right?20600:13:21,440 --> 00:13:24,000哦，然后我们将讲讲课程的运作方式Oh, and then we'll say somethingabout how the class operates20700:13:24,000 --> 00:13:26,678等等内容，好吗？and so on, okay?20800:13:26,678 --> 00:13:28,170行。All right.20900:13:28,170 --> 00:13:29,580互动很重要。Interactive is important.21000:13:29,580 --> 00:13:33,750第一堂课通常是-The first lecture is often--21100:13:33,750 --> 00:13:35,390你知道，我在跟你们说话you know, I sort oftalk at you guys,21200:13:35,390 --> 00:13:36,973你不太确定发生了什么you're not quitesure what's going on,21300:13:36,973 --> 00:13:39,370等等，所以也许不会有太多的问题，and so on, and so maybe therewon't be as many questions,21400:13:39,370 --> 00:13:42,480但我想鼓励大家积极提问but I do like to encouragea lot of active questioning21500:13:42,480 --> 00:13:44,460和课堂上的互动。and interaction in theclasses in general.21600:13:44,460 --> 00:13:48,100我会再多谈一点。And I'll talk moreabout that a little bit.21700:13:48,100 --> 00:13:52,200所以随时问问题，好吗？So feel free to askquestions, okay?21800:13:52,200 --> 00:13:54,420那么，什么是操作系统？So, what's an operating system?21900:13:54,420 --> 00:13:56,090这是一个特殊的软件层So it's a speciallayer of software22000:13:56,090 --> 00:13:58,353为应用程序软件提供访问that provides applicationsoftware with access22100:13:58,353 --> 00:13:59,270硬件资源的权限。to hardware resources.22200:13:59,270 --> 00:14:02,120所以这是你可以列出的一项。So this is onething you could say.22300:14:02,120 --> 00:14:05,030我在这里展示的是硬件And what I'm showinghere is hardware,22400:14:05,030 --> 00:14:10,130与之相关的许多东西，磁盘驱动器，CPU，which has many things associatedwith it, disk drives, CPUs,22500:14:10,130 --> 00:14:12,745内存，各种各样有趣的事情。memory, all sorts ofinteresting things.22600:14:12,745 --> 00:14:14,120而我们正在做的是提供And what we'redoing is providing22700:14:14,120 --> 00:14:16,280方便的抽象，以便a convenient abstraction,so that the folks that22800:14:16,280 --> 00:14:20,220正在编写应用程序的人们不必考虑，are writing the applicationsdon't have to think about,22900:14:20,220 --> 00:14:24,020例如，我如何拿一堆单独的分区for instance, how do I takea bunch of individual blocks23000:14:24,020 --> 00:14:27,680在磁盘上，然后以某种方式将它们放到一个文件中on a disk and somehow putthem together into a file23100:14:27,680 --> 00:14:31,160而是我认为文件是连续的一组比特。so that I think of the file asbeing a continuous set of bits,23200:14:31,160 --> 00:14:33,005对？right?23300:14:33,005 --> 00:14:34,630当您读写文件时，When you're readingand writing a file,23400:14:34,630 --> 00:14:36,010你当然不想担心you certainlydon't want to worry23500:14:36,010 --> 00:14:38,057关于哪些块组成了该文件about which blocksmake up that file23600:14:38,057 --> 00:14:39,640以及它们在磁盘上的位置，对吗？and where they areon the disk, right?23700:14:39,640 --> 00:14:42,310那就是一种剥去That's a level of peelingback the layer that's23800:14:42,310 --> 00:14:46,150在编写应用程序时绝对没有用的层。absolutely not useful whenyou're writing applications.23900:14:46,150 --> 00:14:48,430另一件事很重要So the other thingthat is important24000:14:48,430 --> 00:14:51,050那就是保护对硬件资源的访问。is protecting accessto hardware resources.24100:14:51,050 --> 00:14:53,750如果多个用户都使用相同的硬件，So if multiple users areall using the same hardware,24200:14:53,750 --> 00:14:56,860我们要确保他们只访问自己we want to make sure that theyonly access what they have24300:14:56,860 --> 00:14:58,870有权限并应该访问的内容。access to and should access.24400:14:58,870 --> 00:15:01,150因此，我们当然谈论安全认证，So of course, we talk aboutsecurity authentication,24500:15:01,150 --> 00:15:02,500等等。et cetera.24600:15:02,500 --> 00:15:04,390然后，操作系统将And then, theoperating system will24700:15:04,390 --> 00:15:08,540帮助调解沟通。help mediate communication.24800:15:08,540 --> 00:15:10,010有很多有趣的东西。So lots of interesting pieces.24900:15:10,010 --> 00:15:12,020我们会剥掉很多这样的东西And we'll peel backa lot of these pieces25000:15:12,020 --> 00:15:13,520随着的学期进行。as the term goes on.25100:15:13,520 --> 00:15:18,320你知道，过去有总机操作员You know, in the old days,you had switchboard operators25200:15:18,320 --> 00:15:20,330在把设备连起来。who were connecting things up.25300:15:20,330 --> 00:15:23,630然后你有了计算机操作员。And then you hadcomputer operators.25400:15:23,630 --> 00:15:27,420你可能会想象，这是前一段时间。You might imagine,this was a while ago.25500:15:27,420 --> 00:15:33,250所有这些都追随操作系统。And all of them kind of goafter the operating system.25600:15:33,250 --> 00:15:35,710信不信由你，我喜欢展示这样的照片And believe it or not, I liketo show pictures like this25700:15:35,710 --> 00:15:37,237时不时地every now and then, like--25800:15:37,237 --> 00:15:39,070所有人都能看到我的箭头所指的地方吗？can everybody see wheremy arrow's pointing?25900:15:39,070 --> 00:15:41,020那实际上是一个磁带机。That's actually a tape drive.26000:15:41,020 --> 00:15:43,900您知道他们对磁带机做了什么吗？Do you know what theydid with tape drives?26100:15:43,900 --> 00:15:45,343他们在上面存储了信息。They stored information on them.26200:15:45,343 --> 00:15:46,510知道他们用什么存储吗？Know what they stored it on?26300:15:46,510 --> 00:15:47,560磁带。Tapes.26400:15:47,560 --> 00:15:48,190哇。Wow.26500:15:48,190 --> 00:15:50,340有点奇怪吧？That's a little weird, right?26600:15:50,340 --> 00:15:53,210相信我，它发生过。Believe me, it happened.26700:15:53,210 --> 00:15:55,370那你带什么来上这堂课So what do you bringinto this class26800:15:55,370 --> 00:15:56,960了解发生了什么事？to understand what's going on?26900:15:56,960 --> 00:16:00,590你要上过61C。You're bringing in 61C.27000:16:00,590 --> 00:16:03,245有多少人喜欢61C？How many peopleremember 61C fondly?27100:16:03,245 --> 00:16:04,120我再改一下。Let me rephrase that.27200:16:04,120 --> 00:16:07,850有多少人记得61C？How many people remember 61C?27300:16:07,850 --> 00:16:09,310好的。Okay.27400:16:09,310 --> 00:16:13,030所以当您上61C时，您学到了什么So when you took61C, what you learned27500:16:13,030 --> 00:16:16,060你学到了很多关于诸如is you learned a lotabout things like how27600:16:16,060 --> 00:16:18,010使处理器正常工作。to make processors work.27700:16:18,010 --> 00:16:19,120什么是寄存器？What are registers?27800:16:19,120 --> 00:16:23,080什么是算术单元？What are the arithmetic units?27900:16:23,080 --> 00:16:25,390你们学到了存储。You talked about storage.28000:16:25,390 --> 00:16:29,030也许内存是如何分布的。Maybe how memory was laid out.28100:16:29,030 --> 00:16:33,55061C是您迈向理解和剥离61C was your first step towardunderstanding and peeling back28200:16:33,550 --> 00:16:34,910抽象层级的第一步。the layers.28300:16:34,910 --> 00:16:38,140现在，这是一个非常简单的视图。Now, it was a verysimplistic view.28400:16:38,140 --> 00:16:41,050一方面，当你谈论61C时，For one thing,when you talk 61C,28500:16:41,050 --> 00:16:43,648没有关于多个实体正在运行的评论there was no comment aboutmultiple entities running28600:16:43,648 --> 00:16:45,940同时只有一件事情正在运行，at the same time, there'sthis one thing, it's running,28700:16:45,940 --> 00:16:48,970它正在使用硬件寄存器等等，对吧？it's using the hardwareregisters and so on, right?28800:16:48,970 --> 00:16:52,950所以对你的第一课来说很好。So that's fine foryour first class.28900:16:52,950 --> 00:16:55,980但是，真正的操作系统不会以这种方式运行。But real operating systemsdon't operate that way.29000:16:55,980 --> 00:16:58,020你们可能还谈到了缓存，You also probablytalked about caches,29100:16:58,020 --> 00:16:59,430我们会回顾这一点。we'll remind you of this.29200:16:59,430 --> 00:17:01,110也许你们谈论过页表，Maybe you talkedabout page tables,29300:17:01,110 --> 00:17:02,940他们谈论页表吗？did they talk about page tables?29400:17:02,940 --> 00:17:04,990好。Good.29500:17:04,990 --> 00:17:07,650但是问题可能是，好吧，那怎么But the question mightbe, all right, so how29600:17:07,650 --> 00:17:10,770我该如何拓展我的61C知识？do I take my 61Cknowledge forward?29700:17:10,770 --> 00:17:14,680好吧，一件事是我开始添加操作系统。Well, one thing is I startadding an operating system.29800:17:14,680 --> 00:17:17,010因此，操作系统要做的一件事And so one of the thingsthat an operating system does29900:17:17,010 --> 00:17:19,618我就是所谓的造梦师is what I like tocall the illusionist.30000:17:19,618 --> 00:17:22,409它为你提供了干净，易于使用的抽象So it's giving you clean,easy to use abstractions30100:17:22,410 --> 00:17:25,858对于物理资源，例如of physical resources,things like the view30200:17:25,858 --> 00:17:27,872感觉上你有无限的内存。that you have infinite memory.30300:17:27,873 --> 00:17:29,040当然，你没有这么多。Which, of course, you don't.30400:17:29,040 --> 00:17:31,500感觉上你有一台专用机器，The view that you havea dedicated machine,30500:17:31,500 --> 00:17:33,280就像你在61C中考虑的那样。like you thought about in 61C.30600:17:36,410 --> 00:17:40,610感觉上有文件或用户或消息The view that there arefiles or users or messages30700:17:40,610 --> 00:17:42,830或这些更高层次的东西。or these higher level things.30800:17:42,830 --> 00:17:44,630而通常是操作系统，And it's often up tothe operating system,30900:17:44,630 --> 00:17:47,000用这些对世界的幻觉，with this illusionistview of the world,31000:17:47,000 --> 00:17:51,000真正掩盖了硬件的局限性。to really mask thelimitations of the hardware.31100:17:51,000 --> 00:17:52,820所以事实是，内存不是无限的，So the fact is, thememory isn't infinite,31200:17:52,820 --> 00:17:54,980但我可以假装是。but I can pretend that it is.31300:17:54,980 --> 00:17:57,860因为操作系统将尝试进行交换。Because the operating systemwill try to do swapping.31400:17:57,860 --> 00:17:59,790接下来，我们将进一步讨论。And we'll talk moreabout that as we go on.31500:17:59,790 --> 00:18:05,060例如，回到我们的61C版本，So for instance, goingback to our 61C version,31600:18:05,060 --> 00:18:07,730也许我们实际上在这里有一个虚拟机边界，maybe we actually have avirtual machine boundary here,31700:18:07,730 --> 00:18:10,520还存在处理器和内存和网络where there's still processorand memory, and networks31800:18:10,520 --> 00:18:13,640和存储的地方，就像在61C中一样，但是and storage, justlike in 61C, but what31900:18:13,640 --> 00:18:17,650我们要做的是在此之上搭建操作系统we do is we put on top of thisan OS virtualization layer.32000:18:17,650 --> 00:18:19,730虚拟化层，它会And that virtualizationlayer is going32100:18:19,730 --> 00:18:21,822把所有这些真实的东西藏在下面to take all of thesereal things underneath32200:18:21,822 --> 00:18:23,780并将其虚拟化并让它们and it's going to virtualizethem and make them32300:18:23,780 --> 00:18:26,320看起来像是无限的。look like they're infinite.32400:18:26,320 --> 00:18:27,850或者，尽管事实上Or like, despitethe fact that there32500:18:27,850 --> 00:18:32,070这个系统上有很多用户，我却拥有独占访问权限。are many users on this system,I've got exclusive access.32600:18:32,070 --> 00:18:33,462那就是该层所做的。That's what that layer does.32700:18:33,462 --> 00:18:34,920所以在抽象之下And so underneaththe covers, there32800:18:34,920 --> 00:18:38,250将是一个ISA，也叫will be an ISA, which you alsotalked about as instruction set32900:18:38,250 --> 00:18:39,210指令集架构。architecture.33000:18:39,210 --> 00:18:43,770但是上面，现在将有诸如进程，地址空间，But above, well, now get thingslike processes, address spaces,33100:18:43,770 --> 00:18:45,425文件，窗口。files, windows.33200:18:45,425 --> 00:18:47,550现在，我不是在谈论Microsoft Windows，Now, I'm not talking aboutMicrosoft Windows, here,33300:18:47,550 --> 00:18:50,430我说的是屏幕上的窗口。I'm talking aboutwindows on a screen.33400:18:50,430 --> 00:18:53,213出于好奇，有多少Macintosh用户Just out of curiosity,how many Macintosh users33500:18:53,213 --> 00:18:53,880我们有这里吗？do we have here?33600:18:56,790 --> 00:18:58,655有多少Windows用户？How many Windows users?33700:18:58,655 --> 00:19:00,110好的。Okay.33800:19:00,110 --> 00:19:02,720有多少Linux用户？How many Linux users?33900:19:02,720 --> 00:19:03,600好的。Okay.34000:19:03,600 --> 00:19:07,890多少个BSD用户？How many BSD users?34100:19:07,890 --> 00:19:11,390你们几个，好，很好。Couple of you, okay, good.34200:19:11,390 --> 00:19:12,200行。All right.34300:19:12,200 --> 00:19:15,140还有，套接字，通讯等等。So sockets,communication, et cetera.34400:19:15,140 --> 00:19:16,520线程。Threads.34500:19:16,520 --> 00:19:19,670因此，你在本课开头要学的东西So one of the things thatyou're going to learn about very34600:19:19,670 --> 00:19:22,550之一，是写好一个程序，early in this class is thisidea of starting with a program.34700:19:22,550 --> 00:19:27,240程序是您编写和编译的东西。Where a program is the thingthat you wrote and compiled.34800:19:27,240 --> 00:19:28,610这是您的软件。It's your software.34900:19:28,610 --> 00:19:31,210并将其加载成为一个进程。And loading it into become a process.35000:19:31,210 --> 00:19:33,200所以进程确实是一个So a process is reallyan instantiation35100:19:33,200 --> 00:19:35,692在特定计算机上运行的程序实例。of a program that's runningon a particular machine.35200:19:35,692 --> 00:19:36,650那是什么意思呢？So what does that mean?35300:19:36,650 --> 00:19:39,110你在这里看到的绿色的小斑点So what you see here asthe little green blob is35400:19:39,110 --> 00:19:42,410是您已构建，编译和链接的软件，your software that you'vebuilt and compiled and linked,35500:19:42,410 --> 00:19:44,990但是为了使其成为一个进程，but in order to makeit into a process,35600:19:44,990 --> 00:19:48,260我们要做的是必须以正确的方式加载到内存中what we do is we have to loadinto memory in the right way35700:19:48,260 --> 00:19:49,940这样处理器指令集so that theprocessors instruction35800:19:49,940 --> 00:19:51,430指向它-set is pointing at it--35900:19:51,430 --> 00:19:53,240寄存器，对不起，指着它。registers, excuse me,are pointing at it.36000:19:53,240 --> 00:19:55,490现在，处理器可以And now, theprocessor can actually36100:19:55,490 --> 00:19:57,420开始运行此实体。start running this entity.36200:19:57,420 --> 00:20:00,630因此，该进程是程序的实例化。So the process is aninstantiation of a program.36300:20:00,630 --> 00:20:04,240这是您开始运行时发生的情况。It's what happens whenyou start it running.36400:20:04,240 --> 00:20:07,480通常，这样做需要一个操作系统。And usually, there's anOS involved in doing that.36500:20:07,480 --> 00:20:09,462那是什么进程？So what's a process?36600:20:09,462 --> 00:20:11,170我们将要做几件事We're just going todo a couple of things36700:20:11,170 --> 00:20:14,560在这里，我们提出其中的一些术语。here, where we pop downsome of these terms.36800:20:14,560 --> 00:20:16,960因此，我们将讨论它是一个地址空间，So we'll talk about howit's an address space,36900:20:16,960 --> 00:20:17,980这是一组地址。it's a set of addresses.37000:20:17,980 --> 00:20:21,160我们将讨论一个或多个控制线程。We'll talk about one ormore threads of control.37100:20:21,160 --> 00:20:25,500我们将讨论进程具有的其他系统状态。We'll talk about the additionalsystem state a process has.37200:20:25,500 --> 00:20:30,120线程确实是你们在61C中学到的。And a thread is really whatyou've learned about in 61C.37300:20:30,120 --> 00:20:32,490它有一个程序计数器，它有寄存器，It's got a program counter,it's got registers,37400:20:32,490 --> 00:20:33,850它有一个堆栈。it's got a stack.37500:20:33,850 --> 00:20:36,428那些词都记得起来吗，你们？Those terms all ringingsome bells, you guys?37600:20:36,428 --> 00:20:37,220让我们再试一次。Let's try it again.37700:20:37,220 --> 00:20:38,137让我们看看它是耳熟。Let's see if it rings.37800:20:38,137 --> 00:20:38,980准备？Ready?37900:20:38,980 --> 00:20:41,870程序计数器！Program counter!38000:20:41,870 --> 00:20:42,370行。All right.38100:20:42,370 --> 00:20:44,250寄存器！Registers!38200:20:44,250 --> 00:20:44,750行。All right.38300:20:44,750 --> 00:20:46,280栈！Stack!38400:20:46,280 --> 00:20:48,150哦，是的，好的。Oh, yeah, okay.38500:20:48,150 --> 00:20:48,650行。All right.38600:20:51,290 --> 00:20:54,470你们都用过某种任务视图或其他You've all done some sortof task view or whatever38700:20:54,470 --> 00:20:55,890在操作系统中，您会看到in an operatingsystem and you see38800:20:55,890 --> 00:20:57,890所有正在运行的任务或进程all the tasks that arerunning, or the processes38900:20:57,890 --> 00:20:59,360正在运行。that are running.39000:20:59,360 --> 00:21:01,950我们会进一步讨论这两者的差异，当学深入后We'll talk about the differencethere when we go further,39100:21:01,950 --> 00:21:03,710但这东西的功能，你们but what this oughtto do, and you39200:21:03,710 --> 00:21:07,520应该这样做，如果最近还没有这样做，ought to do this, if youhaven't done this recently,39300:21:07,520 --> 00:21:08,820看看这个。and take a look.39400:21:08,820 --> 00:21:11,240这是大卫·科勒上学期所做的，我只是So this is something DavidKohler did last term, I just39500:21:11,240 --> 00:21:12,060保留他的幻灯片。kept his slide.39600:21:12,060 --> 00:21:15,085但是如果你看这里，有20或30个东西But if you look here,there's 20 or 30 things39700:21:15,085 --> 00:21:15,960都在运行。that are all running.39800:21:15,960 --> 00:21:17,627这些都是正在运行的进程These are processesthat are all running39900:21:17,627 --> 00:21:19,550在同一硬件上。on the same piece of hardware.40000:21:19,550 --> 00:21:22,280他们都有能力像他们And they're all ableto act as if they40100:21:22,280 --> 00:21:24,240独享硬件一样。have sole use of the hardware.40200:21:24,240 --> 00:21:26,570虚拟化令我们能So that virtualizationgives us the ability40300:21:26,570 --> 00:21:28,870有所有这些进程。to have all these processes.40400:21:28,870 --> 00:21:31,340现在你们可能会说，好吧，为什么我要全部？Now you might say, well,why would I want them all?40500:21:31,340 --> 00:21:32,340好吧，我们会解决的。Well, we'll get to that.40600:21:32,340 --> 00:21:34,173这些每个都做不同的事情。Each of these are doingsomething different.40700:21:34,173 --> 00:21:35,970对于程序员而言，这要容易得多And it's much easierfor the programmer40800:21:35,970 --> 00:21:38,040编写在这里运行的代码to write the codethat's running here40900:21:38,040 --> 00:21:41,200如果它们具有虚拟机抽象。if they have a virtualmachine abstraction.41000:21:41,200 --> 00:21:42,050容易得多。Much easier.41100:21:42,050 --> 00:21:42,550好的。Okay.41200:21:45,490 --> 00:21:49,208现在，一旦有了进程，那么Now, once you'vegot processes, then41300:21:49,208 --> 00:21:51,250你可以谈论怎么有的-好吧，一旦你you can talk about how doI have-- well, once you41400:21:51,250 --> 00:21:52,270有一个进程，你可以谈论have a process,you can talk about41500:21:52,270 --> 00:21:53,840我怎么会有一个以上？how can I have more than one?41600:21:53,840 --> 00:21:57,850因此，这里绿色正在运行。So here we have thegreen is running.41700:21:57,850 --> 00:22:00,690它有程序计数器和处理器And it's got the programcounter and the processor41800:22:00,690 --> 00:22:04,360指向内存中的指令。is pointing at theinstructions in the memory.41900:22:04,360 --> 00:22:07,120突然之间，计时器停了，And all of a sudden,the timer goes off42000:22:07,120 --> 00:22:09,950我们做一个上下文切换。and we do a context switch.42100:22:09,950 --> 00:22:11,200所以请注意那里发生了什么。So notice what happened there.42200:22:11,200 --> 00:22:14,108我将寄存器复制到某个地方。I copied the registersoff somewhere.42300:22:14,108 --> 00:22:16,150他们仍然指着那块记忆And they're still pointingat the piece of memory42400:22:16,150 --> 00:22:17,770那是绿色的进程。that is the green process.42500:22:17,770 --> 00:22:20,530但是现在，操作系统正在运行。But now, the operatingsystem's running.42600:22:20,530 --> 00:22:24,940就像你在61C中学到的那样，So that CPU, you likeyou've learned about in 61C,42700:22:24,940 --> 00:22:28,828CPU不再用于绿色程序或进程，is no longer being devoted tothe green program, or process,42800:22:28,828 --> 00:22:30,620它被用于操作系统。it's being devoted tothe operating system.42900:22:30,620 --> 00:22:32,700我们已经切换了上下文。We've switched the context.43000:22:32,700 --> 00:22:36,180你们将学到很多有关上下文切换的知识。And you will learn a lotabout how contexts switch.43100:22:36,180 --> 00:22:39,030实际上，一旦我们开始能够从进程中切换到And in fact, once we start beingable to switch from a process43200:22:39,030 --> 00:22:42,178操作系统，现在我们可以有很多进程，to the operating system, nowwe can have many processes,43300:22:42,178 --> 00:22:44,220我们可以同时运行很多事情and we can have many thingsrunning at once, just43400:22:44,220 --> 00:22:45,762就像我之前向您展示的幻灯片一样。like that slide Ishowed you earlier.43500:22:50,420 --> 00:22:54,560真的，操作系统要做的另一件事So really, another thing thatthe operating system does43600:22:54,560 --> 00:22:56,450它像裁判一样。is it acts like a referee.43700:22:56,450 --> 00:22:59,840这样您就可以管理资源，提供保护，So you get to manageresources, give protection,43800:22:59,840 --> 00:23:01,430隔离等。isolation, et cetera.43900:23:01,430 --> 00:23:04,760您可以决定内存的哪一部分You can decide whatfraction of the memory44000:23:04,760 --> 00:23:07,730去给定的进程，或网络的哪个部分goes to a given process, orwhat fraction of the network44100:23:07,730 --> 00:23:10,310带宽用于给定的进程。bandwidth goes toa given process.44200:23:10,310 --> 00:23:12,490那是裁判。That's the referee.44300:23:12,490 --> 00:23:15,580例如，现在我们有了上下文切换，So for instance, now thatwe have context switching,44400:23:15,580 --> 00:23:17,940我们可以开始考虑调度和保护。we can start thinking aboutscheduling and protection.44500:23:17,940 --> 00:23:20,110所以有绿色的进程，但是，也有So there is the greenthing, but gee, have44600:23:20,110 --> 00:23:23,560橙色和红色的进程。an orange and a red process.44700:23:23,560 --> 00:23:25,250那么，什么是调度？And so now, what is scheduling?44800:23:25,250 --> 00:23:26,770好吧，调度是我决定Well, schedulingis when I decide44900:23:26,770 --> 00:23:29,020CPU应该停止运行绿色that the CPU shouldstop focusing on green45000:23:29,020 --> 00:23:31,990然后开始运行黄色或红色。and start focusingon yellow or red.45100:23:31,990 --> 00:23:33,260而且我可以做出决定。And I can make decisions.45200:23:33,260 --> 00:23:37,660存在一些我关心的服务质量指标Well, there is some quality ofservice metric I care about.45300:23:37,660 --> 00:23:40,340这个进程负责控制我汽车的刹车This is running thebrakes in my car.45400:23:40,340 --> 00:23:45,460如果我没有足够快地从绿色切换到橙色，And if I don't switch fromgreen to orange fast enough,45500:23:45,460 --> 00:23:48,098我撞到树上，这将是一件坏事，对吧？I crash into a tree, whichwould be a bad thing, right?45600:23:48,098 --> 00:23:48,640我想是的。I'm assuming.45700:23:51,940 --> 00:23:54,410因此，当我们有了服务质量指标时，So when we have qualityof service metrics,45800:23:54,410 --> 00:23:56,410我们可以讨论我们的调度器如何we can start talking abouthow to our schedulers45900:23:56,410 --> 00:23:59,570确保我们符合服务质量指标？make sure we meet thequality of service metrics?46000:23:59,570 --> 00:24:01,210你们将在本课程中了解到这一点。You'll learn aboutthat in this class.46100:24:01,210 --> 00:24:02,500安全保护。Protection.46200:24:02,500 --> 00:24:07,570好，这个绿色内存中有一些加密密钥，Well, this green memory hassome cryptographic keys in it,46300:24:07,570 --> 00:24:08,570比方说let's say.46400:24:08,570 --> 00:24:12,160我如何确保红色过程How do I make surethat the red process46500:24:12,160 --> 00:24:16,150看不到绿色的内存并读出密钥？can't look at green's memoryand pull the keys out?46600:24:16,150 --> 00:24:19,720因为如果这样做，也许突然之间Because if it does,maybe suddenly whoever46700:24:19,720 --> 00:24:22,660任谁拥有绿色斑点，我们可以突破owns the greenblob, we can breach46800:24:22,660 --> 00:24:24,310他的银行帐户或其他内容。their bank account or whatever.46900:24:24,310 --> 00:24:26,860这样内存保护就要起作用。So that protection ofmemory comes into play.47000:24:26,860 --> 00:24:30,000有人记得内存是如何受到保护的吗？Does anybody rememberhow memory is protected?47100:24:30,000 --> 00:24:30,887请讲。Go for it.47200:24:30,887 --> 00:24:32,322学生：[听不清]STUDENT: [INAUDIBLE]47300:24:32,322 --> 00:24:33,780JOHN KUBIATOWICZ：哦，在前面。JOHN KUBIATOWICZ:Oh, in the front.47400:24:33,780 --> 00:24:34,942请讲。Go for it.47500:24:34,942 --> 00:24:39,610学生：您有页表[音频不清晰]。STUDENT: You have pagestables [INAUDIBLE]..47600:24:39,610 --> 00:24:40,630JOHN KUBIATOWICZ：太好了。JOHN KUBIATOWICZ: Great.47700:24:40,630 --> 00:24:42,550因此，我们将了解页表。So we'll learnabout page tables.47800:24:42,550 --> 00:24:46,300简短的答案是我们翻译The short answer is wetranslate the addresses47900:24:46,300 --> 00:24:50,170CPU正在使用的地址，使得无论红进程做什么，that the CPU is using sothat no matter what red does,48000:24:50,170 --> 00:24:55,270它永远无法真正读到或修改绿进程的内存。it's never able to actuallytouch or modify green's memory.48100:24:55,270 --> 00:24:56,090翻译。Translation.48200:24:56,090 --> 00:24:58,995好，太棒了。Okay, great.48300:24:58,995 --> 00:24:59,870到目前为止有什么问题吗？Any questions so far?48400:25:02,213 --> 00:25:04,380这个要考吗，是这个问题吗？This going to be on theexam, was that the question?48500:25:04,380 --> 00:25:06,700哦，不，对不起。Oh no, sorry.48600:25:06,700 --> 00:25:09,340所以，你可以想象操作系统So really, you can thinkof the operating system48700:25:09,340 --> 00:25:13,000在硬件上设置保护边界as putting a protectionboundary over the hardware48800:25:13,000 --> 00:25:15,580并给我们所有这些很酷的抽象和调度and giving us all these coolabstractions and scheduling48900:25:15,580 --> 00:25:17,650以及保护和隔离。and protection and isolation.49000:25:17,650 --> 00:25:18,680好的。Okay.49100:25:18,680 --> 00:25:21,920现在，我敢肯定有人坐在那里说：Now, I'm sure there's some ofyou sitting out there saying,49200:25:21,920 --> 00:25:23,570哥们，这是很多细节，我怎么boy, this is a lotof details, how am I49300:25:23,570 --> 00:25:25,580可能了解一切呢？ever going to catch it all?49400:25:25,580 --> 00:25:27,590那是我的工作。And that's kind of my job.49500:25:27,590 --> 00:25:30,680因此，我们将处理这些不同的事物So we're going to deal witheach of these different things49600:25:30,680 --> 00:25:31,590当我们进行课程。as we go.49700:25:31,590 --> 00:25:33,110我希望在学期结束前，And I hope by theend of the term,49800:25:33,110 --> 00:25:34,480你会有一个很好的脑中的模型you'll have a verynice mental model49900:25:34,480 --> 00:25:36,188关于操作系统中发生的事情of what's going on inan operating system50000:25:36,188 --> 00:25:42,460可以弄清楚如何将它们拼凑在一起，好吗？and can figure out how topiece them all together, okay?50100:25:42,460 --> 00:25:44,530所以我最后想谈的So the last thingthat I'd like to talk50200:25:44,530 --> 00:25:47,260当我们谈论什么是操作系统时about when we talk aboutwhat's an operating system50300:25:47,260 --> 00:25:49,100它是粘合剂is really glue.50400:25:49,100 --> 00:25:51,190操作系统把一堆常用服务An operating systemglues together50500:25:51,190 --> 00:25:53,260粘合在一起a bunch of commonservices in a way that's50600:25:53,260 --> 00:25:57,980方便程序员。convenient for the programmer.50700:25:57,980 --> 00:25:59,600那么什么是常用服务？So what are common services?50800:25:59,600 --> 00:26:01,660在存储方面，我们之前讨论过文件系统。Storage, we talked aboutfile system earlier.50900:26:01,660 --> 00:26:03,040窗口系统。Windowing system.51000:26:03,040 --> 00:26:04,270联网。Networking.51100:26:04,270 --> 00:26:07,600TCP / IP是服务的一个很好的例子。TCP/IP is a greatexample of a service.51200:26:07,600 --> 00:26:10,240共享，授权即安全服务，Sharing, authorization,that's security services,51300:26:10,240 --> 00:26:12,570外观和感觉。look and feel.51400:26:12,570 --> 00:26:15,580系统的外观。The look and feelof your system.51500:26:15,580 --> 00:26:18,790有多少人听说过90年代的著名的How many people have everheard of the famous look51600:26:18,790 --> 00:26:22,610外观感觉诉讼案？and feel sues of the '90s?51700:26:22,610 --> 00:26:24,000好，你们几个Okay, a couple of you.51800:26:24,000 --> 00:26:25,470你可能会发现这很有趣。You might find this amusing.51900:26:25,470 --> 00:26:32,850你是否知道苹果起诉了微软Did you realize thatApple sued Microsoft52000:26:32,850 --> 00:26:35,400因为微软的Windows操作系统because Microsoft'sWindows operating52100:26:35,400 --> 00:26:38,820雷同了Apple的system had the same look andfeel that Apple's operating52200:26:38,820 --> 00:26:39,360的操作系统？system did?52300:26:39,360 --> 00:26:40,810外观和感觉。Look and feel.52400:26:40,810 --> 00:26:44,430所以他们试图让法院说And so they were tryingto get the courts to say52500:26:44,430 --> 00:26:47,220微软要么要向苹果支付很多钱that Microsoft had to eitherpay Apple a lot of money52600:26:47,220 --> 00:26:49,490或停止使用。or cease and desist.52700:26:49,490 --> 00:26:51,050因为外观和感觉是什么？Because what was look and feel?52800:26:51,050 --> 00:26:58,920外观是窗口，鼠标，图标，箭头。The look and feel wasWindows, mice, icons, arrows.52900:26:58,920 --> 00:27:00,420现在想一想。Now think throughthat for a second.53000:27:00,420 --> 00:27:02,128会发生什么，如果有家公司What would have happenedif some company,53100:27:02,128 --> 00:27:05,000甚至是苹果公司，我相信我们大家都非常喜欢，even Apple, who I'msure we all like a lot,53200:27:05,000 --> 00:27:07,245设法赢得了诉讼。had managed to win that suit.53300:27:07,245 --> 00:27:08,870突然之间，没人能All of a sudden,nobody else could ever53400:27:08,870 --> 00:27:10,328做任何有窗口界面的产品。do anything thathad windows in it.53500:27:10,328 --> 00:27:10,940或者鼠标。Or mice.53600:27:10,940 --> 00:27:12,710或者其他的。Or whatever.53700:27:12,710 --> 00:27:14,735现在，我有点说过了，苹果公司输了。Now, I've sort of givenit away, they lost.53800:27:17,270 --> 00:27:19,890那是一件了不起的事。And that was a great thing.53900:27:19,890 --> 00:27:21,590而且也特别具有讽刺意味And it was alsoparticularly ironic,54000:27:21,590 --> 00:27:25,160因为苹果没有发明窗口或鼠标。because Apple didn'tinvent windows or mice.54100:27:25,160 --> 00:27:27,870有人知道谁发明了窗口和鼠标吗？Does anybody know whoinvented windows and mice?54200:27:27,870 --> 00:27:28,790学生：施乐公司。STUDENT: Xerox PARC.54300:27:28,790 --> 00:27:30,020JOHN KUBIATOWICZ：施乐公司。JOHN KUBIATOWICZ: Xerox PARC.54400:27:30,020 --> 00:27:30,680好的。Okay.54500:27:30,680 --> 00:27:34,550这是90年代的外观感觉诉讼案。So, the look and feelsue of the '90s.54600:27:34,550 --> 00:27:38,055OS基础知识也包括IO。So OS basics, also include IO.54700:27:38,055 --> 00:27:39,680例如，你们这里看到的内容So for instance, whatyou see down here54800:27:39,680 --> 00:27:44,420是网络和显示器之类的东西，我不知道，are things like networks anddisplays and I don't know,54900:27:44,420 --> 00:27:48,020GPU做图形，磁盘做存储。GPUs to do graphics anddisks to do storage.55000:27:48,020 --> 00:27:51,350所以基本上发生的事情，例如And so basically whathappens, for instance,55100:27:51,350 --> 00:27:53,810当我们开始一个进程时is when we'restarting a process,55200:27:53,810 --> 00:27:56,180我们必须从存储中获取数据we have to grab thedata out of the storage55300:27:56,180 --> 00:27:58,280并存入内存。and put it into memory.55400:27:58,280 --> 00:28:02,600或来自网络的数据包被放入内存。Or packets, coming off ofnetworks, put into memory.55500:28:02,600 --> 00:28:05,030其后还有整个有趣的总线布局。And there's a whole interestingbus layout behind that.55600:28:05,030 --> 00:28:06,530我会说一点And I'll say alittle bit about that55700:28:06,530 --> 00:28:09,022如果我们在学期末讲到这里-if we get to it towardthe end of the term--55800:28:09,022 --> 00:28:10,230在授课结束时，在这里。the end of the lecture, here.55900:28:10,230 --> 00:28:12,920但是只要这么说就够了，But suffice it tosay that buried56000:28:12,920 --> 00:28:16,280隐藏在你的操作系统视图下underneath your viewof an operating system56100:28:16,280 --> 00:28:18,590有很多有趣的总线is a lot of prettyinteresting buses56200:28:18,590 --> 00:28:21,900以及缓存，控制器和硬件。and caches andcontrollers and hardware.56300:28:21,900 --> 00:28:25,910顺便，我鼓励你们上152这个课And I encourage you, by theway, to take 152 and think56400:28:25,910 --> 00:28:26,690思考这个。about that.56500:28:26,690 --> 00:28:28,890我也喜欢那个领域。I love that domain, as well.56600:28:28,890 --> 00:28:30,330但不是本课（要讲的）。That's not this class.56700:28:30,330 --> 00:28:38,600但是这种操作系统虚拟化有助于隐藏重要的细节But this OS virtualization helpsto hide the important details56800:28:38,600 --> 00:28:40,460实际的硬件如何of how the actualpieces of hardware56900:28:40,460 --> 00:28:42,860互相通信，connect with each otherfrom the users that57000:28:42,860 --> 00:28:46,674试图完成他们的工作并运行程序的用户不需知道。are trying to just get theirjob done and run programs.57100:28:46,674 --> 00:28:48,342行。All right.57200:28:48,342 --> 00:28:50,300例如，当我们创建一个进程时，So for instance, whenwe're creating a process,57300:28:50,300 --> 00:28:52,160或加载程序，会发生什么or loading aprogram, what happens57400:28:52,160 --> 00:28:54,860该程序实际上在磁盘上。is the program'sactually on disk.57500:28:54,860 --> 00:28:58,905硬件文件系统已-The file system inhardware has been--57600:28:58,905 --> 00:29:01,490或者说操作系统中正在运行的文件系统or the file systemthat's running in the OS57700:29:01,490 --> 00:29:04,010使用存储上的各个块uses the individualblocks on the storage57800:29:04,010 --> 00:29:08,190为了存储它，我们将其从存储设备加载到内存中，to store that, we load itfrom the storage into memory,57900:29:08,190 --> 00:29:10,640然后我们启动该进程，好吗？and then we launchthe process, okay?58000:29:10,640 --> 00:29:12,260行。All right.58100:29:12,260 --> 00:29:15,770那么，什么使操作系统具有挑战性和令人兴奋呢？So what makes operating systemschallenging and exciting?58200:29:19,850 --> 00:29:23,600好吧，有多少人去过Well, how manypeople have ever been58300:29:23,600 --> 00:29:25,490在我们关于系统的课之一，没有看到in one of our systemsclasses and not seen58400:29:25,490 --> 00:29:26,480提到摩尔定律？Moore's Law mentioned?58500:29:26,480 --> 00:29:29,470有人吗Anybody?58600:29:29,470 --> 00:29:30,910好吧，不幸的是，摩尔定律Well, Moore's Law,unfortunately,58700:29:30,910 --> 00:29:34,000最近一直用在放缓，但我会告诉你has been running out lately,but I will tell you that one58800:29:34,000 --> 00:29:37,720操作系统如此令人兴奋的原因之一是of the reasons operating systemsare so amazingly exciting is58900:29:37,720 --> 00:29:40,600在很多很多很多年里that for many, many,many, many, many years,59000:29:40,600 --> 00:29:45,520我们基本上每1 1/2年就将晶体管增加一倍。we had basically a doubling intransistors every 1 1/2 years.59100:29:45,520 --> 00:29:47,020真正的意思是你可以What that reallymeant was you could59200:29:47,020 --> 00:29:50,800将越来越多的芯片集成在一起put more and more and moreand more on the same chip,59300:29:50,800 --> 00:29:53,350或者你可以做一个更小的芯片or you could makea much smaller chip59400:29:53,350 --> 00:29:56,030具有相同的功能，但功耗要低得多。that did the samefunctionality, a lot less power.59500:29:56,030 --> 00:29:59,865结果是，我们有非常有趣而复杂的系统And as a result, we have veryinterestingly complex systems59600:29:59,865 --> 00:30:00,490现在在那里。out there, now.59700:30:00,490 --> 00:30:05,200我之前向您展示了该网络上的38亿个节点，That 3.8 billion nodes on thatnetwork I showed you earlier,59800:30:05,200 --> 00:30:06,260我们为什么可以这样做？why can we do that?59900:30:06,260 --> 00:30:09,430我们之所以能够这样做，是因为摩尔定律给了我们晶体管。We can do that because Moore'sLaw gave us the transistors.60000:30:09,430 --> 00:30:12,650所以现在，以某种方式，在这样的课程中，And so now, somehow,in a class like this,60100:30:12,650 --> 00:30:15,130我们必须弄清楚如何驯服所有这些晶体管we have to figure out how totame all those transistors60200:30:15,130 --> 00:30:16,900并使他们为我们工作and actually make themwork for us, rather60300:30:16,900 --> 00:30:20,200而不是使事情变得复杂。than making things complicated.60400:30:20,200 --> 00:30:23,740顺便说一句，我要指出的是，And I will point out, by theway, that at the far extreme,60500:30:23,740 --> 00:30:26,680当下，甚至晶体管也不总是where we are these days, eventhe transistors aren't always60600:30:26,680 --> 00:30:27,340可靠。reliable.60700:30:27,340 --> 00:30:30,700因此，您必须开始处理很多错误。And so you've got to startdealing with a lot of failure.60800:30:30,700 --> 00:30:36,385您如何使某件事看起来没有出错，How do you make somethingappear to run without failure,60900:30:36,385 --> 00:30:38,260当下面的所有基础组件when all the underlyingcomponents underneath61000:30:38,260 --> 00:30:39,070会出错？are failing?61100:30:39,070 --> 00:30:43,300这将是一个有趣的话题，我们将稍作讨论。That'll be an interesting topicwe'll address in a little bit.61200:30:43,300 --> 00:30:47,680所以另一件事很有趣So the other thing thatwas kind of interesting61300:30:47,680 --> 00:30:51,220摩尔定律在不断发展的同时is at the same time thatMoore's Law was going on,61400:30:51,220 --> 00:30:52,750我们的晶体管增加了一倍and we're doublingour transistors61500:30:52,750 --> 00:30:55,360定期地。架构师，计算机架构师，on a regular basis, architects,computer architects,61600:30:55,360 --> 00:30:57,140我们正在使事情变得更快。we're making things faster.61700:30:57,140 --> 00:31:02,110直到大约2002年，我们确实能And so up until about2002, we were essentially61800:31:02,110 --> 00:31:10,120每两年将计算性能提高一倍。doubling the performance ofcompute every couple of years.61900:31:10,120 --> 00:31:13,000那真是太神奇了。And that was pretty amazing.62000:31:13,000 --> 00:31:16,102这是人们懒惰的岁月。This is the yearsthat people were lazy.62100:31:16,102 --> 00:31:17,060那是什么意思What do I mean by that?62200:31:17,060 --> 00:31:19,030那个时候你写一些软件，These are the years whereyou built some software,62300:31:19,030 --> 00:31:21,613速度不够快，你只需要等待购买下一台计算机，it's not fast enough, you justwait and buy the next computer,62400:31:21,613 --> 00:31:23,690会没事的。and it'll be fine.62500:31:23,690 --> 00:31:25,740所以这是人们懒惰的岁月。So these are the yearsof people being lazy.62600:31:25,740 --> 00:31:27,300然后突然间，物理And then all ofa sudden, physics62700:31:27,300 --> 00:31:29,250在顶部开始发挥作用。came into play upat the top, there.62800:31:29,250 --> 00:31:32,320现在，摩尔定律即将用完。And now, Moore'sLaw is running out.62900:31:32,320 --> 00:31:33,902我们不能使电脑更快了。And we can't make things faster.63000:31:33,902 --> 00:31:35,110那么我们该怎么办？And so what do we have to do?63100:31:35,110 --> 00:31:38,640我们放了更多东西，但是现在，我们必须将它们散布开来，We put more things, but now,we got to spread them out,63200:31:38,640 --> 00:31:40,530然后我们开始构建复杂的分布式and we start buildingcomplicated distributed63300:31:40,530 --> 00:31:41,580系统。systems.63400:31:41,580 --> 00:31:42,810那是-And that's kind of--63500:31:42,810 --> 00:31:46,200当我们深入本课程，我们将谈论，好吧，as we go further in thisclass, we'll talk about, okay,63600:31:46,200 --> 00:31:48,480我不能更快地处理单独的事情，I can't make individualthings faster,63700:31:48,480 --> 00:31:51,772但是我可以从许多分布式组件中做出来。but I can make things out ofmany distributive components.63800:31:51,772 --> 00:31:53,730我们如何利用这个做一些有趣的事情？How do we do somethinginteresting out of that?63900:31:53,730 --> 00:31:55,938我们将在学期末讨论这一点。And we'll talk about thattoward the end of the term.64000:31:59,500 --> 00:32:06,520因此，顺便说一句，如果您选择152或151，实际上-So by the way, if you take152 or 151, you'll actually--64100:32:06,520 --> 00:32:07,960他们会反复谈论这件事，they'll talk alot about the fact64200:32:07,960 --> 00:32:10,450突然之间，因为各个处理器that all of a sudden, sincethe individual processors64300:32:10,450 --> 00:32:13,488并没有变得越来越快，这就是多核时代。weren't getting faster, this waskind of the era of multicore.64400:32:13,488 --> 00:32:16,030现在，几乎，你购买了手机，你购买了笔记本电脑，And now, pretty much, you buya cell phone, you buy a laptop,64500:32:16,030 --> 00:32:18,700他们都轻松拥有4个以上的核心。they all have 4+cores on them, easily.64600:32:18,700 --> 00:32:20,840因此，存在很多并行性，So there's a lot ofparallelism that's just there,64700:32:20,840 --> 00:32:22,390即使在单个芯片上。even on a single chip.64800:32:22,390 --> 00:32:24,370然后复杂性（-没听清-）。And complexity rules.64900:32:24,370 --> 00:32:27,850因此，我认为另一个有趣的挑战是，So another challenge, which Ithink is kind of interesting,65000:32:27,850 --> 00:32:30,250是这个放缓的原因之一is one of the reasonsof that fall off65100:32:30,250 --> 00:32:35,170是每个芯片上的热量，is that the amount of heaton each individual chip,65200:32:35,170 --> 00:32:38,080到2000年代，功率密度开始by the time we reach the 2000s,the power density started65300:32:38,080 --> 00:32:39,740越来越高。getting pretty high.65400:32:39,740 --> 00:32:43,930如果我们保持原始的摩尔定律曲线，And if we had stayed on theoriginal Moore's Law curve,65500:32:43,930 --> 00:32:46,685我们就会有东西we would havebasically had things65600:32:46,685 --> 00:32:48,310有太阳的温度that were kind ofthe heat of the sun's65700:32:48,310 --> 00:32:51,230在笔记本电脑表面。surface in your laptop.65800:32:51,230 --> 00:32:55,050相信我，那可能不舒服。Believe me, that'sprobably uncomfortable.65900:32:55,050 --> 00:32:56,480所以这就是为什么他们So that's anotherreason why they66000:32:56,480 --> 00:32:58,355停止让事情变得更快而刚刚开始stopped making thingsfaster and just started66100:32:58,355 --> 00:33:00,410将更多的东西放在芯片上。putting more things on a chip.66200:33:03,270 --> 00:33:08,200早在2007年，众核真正到来，So back in 2007,manycore really arrived,66300:33:08,200 --> 00:33:12,270那就是我们开始拥有80多个内核之类的地方。and that was where we startedhaving things like 80+ cores.66400:33:12,270 --> 00:33:17,405英特尔制造了云-芯片上的云。Intel made cloud--clouds on a chip.66500:33:17,405 --> 00:33:18,780有趣的事情And the interestingthing that we66600:33:18,780 --> 00:33:20,880我们曾经开玩笑的，当它开始发生的时候used to joke about whenthis first started happening66700:33:20,880 --> 00:33:22,255那就是你怎么编程这个东西？is how do youprogram this thing?66800:33:22,255 --> 00:33:25,290好吧，你基本上有两个CPU，一个用于音频，Well, you basically havetwo CPUs, one for audio,66900:33:25,290 --> 00:33:26,700一个视频。one for video.67000:33:26,700 --> 00:33:29,430一个用于文字处理器，一个用于浏览器，以及76个One for the word processor,one for the browser, and 7667100:33:29,430 --> 00:33:32,890留下来进行病毒检查或类似的操作。left over for virus checking,or something like that.67200:33:32,890 --> 00:33:34,500所以人们真的不知道，如果我已经So people didn'treally know, if I've67300:33:34,500 --> 00:33:41,530有一个装有很多CPU的大处理器，我该怎么办？got a big processor with a lotof CPUs on it, what do I do?67400:33:41,530 --> 00:33:44,070幸运的是，人们想出了更多的编程方法And fortunately, people havecome up with more programming67500:33:44,070 --> 00:33:45,780可以更好地运作的模型，models that thingswork a little better,67600:33:45,780 --> 00:33:47,370他们可以弄清楚如何利用这些，they can figure out how tomake use of those, other67700:33:47,370 --> 00:33:49,078而不是浪费它们进行病毒检查。than just wasting themon virus checking.67800:33:51,980 --> 00:33:53,240各级都有并行。Parallelism at all levels.67900:33:56,208 --> 00:33:58,000然后，当然，所有这些都很棒，And then, of course,all of this was great,68000:33:58,000 --> 00:33:59,730摩尔定律结束了。and Moore's Law ended.68100:33:59,730 --> 00:34:02,860并以英特尔原来的想法是And in the original waythat Intel thought of things68200:34:02,860 --> 00:34:07,750他们会做一个左右摇摆的过程，他们会is they would do a tick tockprocess, where they would68300:34:07,750 --> 00:34:10,266将制程更改为较小，晶体管change the process tosomething smaller, transistor,68400:34:10,266 --> 00:34:12,099然后他们会改变架构and then they wouldchange the architecture,68500:34:12,100 --> 00:34:13,480而且他们会保持交替。and they'd keep alternating.68600:34:13,480 --> 00:34:16,690而且这种情况频率很快，而且进展很快。And that happened frequently,and things got really fast.68700:34:16,690 --> 00:34:19,530然后，如今，进展变得慢得多。And then now, these days,things are much slower.68800:34:19,530 --> 00:34:21,280你可能会偶尔更改制程，You maybe change theprocess occasionally,68900:34:21,280 --> 00:34:24,310你可以更频繁地更改体系结构。you change the architecturemore frequently.69000:34:24,310 --> 00:34:26,449你一直在优化。You optimize all the time.69100:34:26,449 --> 00:34:30,400因此，如今要成为计算机架构师要困难得多。And so it's much harder to be acomputer architect these days.69200:34:30,400 --> 00:34:33,362而且，要获得非常小的晶体管，And pretty much, to get thatreally small transistors that69300:34:33,362 --> 00:34:35,320真的很高端，甚至只有两家公司are really high end, onlya couple of companies69400:34:35,320 --> 00:34:36,752还能继续做下去。even do that anymore.69500:34:40,060 --> 00:34:42,790因此，我认为另一件有趣的事是So the other interestingthing, I think,69600:34:42,790 --> 00:34:47,520硬盘容量不断增长is that hard drive capacitykeeps growing, to the point69700:34:47,520 --> 00:34:56,840今天，您基本上可以拥有大得可笑的驱动器，that today, you can basicallyhave ridiculously large drives,69800:34:56,840 --> 00:35:00,500如此之大，以至于您将如何处理它们？so ridiculously large that whatare you going to do with them?69900:35:00,500 --> 00:35:03,693我看到了一种有趣的东西-What's kind ofinteresting is I saw--70000:35:03,693 --> 00:35:05,360我会在学期晚些时候告诉你，I'll show you laterin the term, there's70100:35:05,360 --> 00:35:12,050像闪存一样的SSD驱动器an SSD drive that'slike flash memory, that70200:35:12,050 --> 00:35:15,540在一个小的驱动器中基本上有100 TB。basically has 100 terabytesin a small little drive.70300:35:15,540 --> 00:35:18,332大量的数据。That's a lot of data.70400:35:18,332 --> 00:35:19,540你打算怎么办？What you going to do with it?70500:35:19,540 --> 00:35:23,880好吧，我不知道，有很多数据需要保护。Well, I don't know, that'sa lot of bits to protect.70600:35:23,880 --> 00:35:27,122也许在上面放了很多视频？Maybe put a lot of videos on it?70700:35:27,122 --> 00:35:28,830我不知道，你还做什么？I don't know, whatelse do you do, right?70800:35:28,830 --> 00:35:31,430那是很多猫视频。That's a lot of cat videos.70900:35:31,430 --> 00:35:34,792或狗视频（如果您喜欢狗）。Or dog videos, if you like dogs.71000:35:34,792 --> 00:35:36,750当然，网络容量也在不断增加。And of course, networkcapacity keeps going up.71100:35:36,750 --> 00:35:40,510所以我们有很多网络，很多存储，So we have lots ofnetworking, lots of storage,71200:35:40,510 --> 00:35:43,100到处都是CPU。CPUs everywhere.71300:35:43,100 --> 00:35:43,730我们做什么？What do we do?71400:35:43,730 --> 00:35:48,410我们需要162。We need 162.71500:35:48,410 --> 00:35:52,513现在，互联网规模已超过38亿。Now the internet scale,over 3.8 billion users.71600:35:52,513 --> 00:35:53,930这很有趣，有时候It's kind ofinteresting, sometime71700:35:53,930 --> 00:35:56,090您可以查看有关该数据的统计信息。you might take a look atthe statistics on that.71800:35:58,850 --> 00:36:02,240现在，或者实际上，我会说，回到2017年，Right now, or actually, I willsay back in 2017, we kind of71900:36:02,240 --> 00:36:08,000世界人口达到54％had a 54% penetrationof the world population72000:36:08,000 --> 00:36:09,200加入了这个连接。for connectivity.72100:36:09,200 --> 00:36:11,635所以前面有人提到So that somebodymentioned earlier72200:36:11,635 --> 00:36:14,010人数是限制因素。that it was the number ofpeople was the limiting factor.72300:36:14,010 --> 00:36:17,023实际上，我们还没有完全接触到每个人。In fact, we haven'tquite reached everybody.72400:36:17,023 --> 00:36:19,190因此，世界上仍有很多地方So there's significant partsof the world that still72500:36:19,190 --> 00:36:22,520没有互联网。don't have internet access.72600:36:22,520 --> 00:36:24,890当然，不仅是PC，还有很多其他东西And of course, not only PCs,but lots of other things72700:36:24,890 --> 00:36:25,972被连接。are connected.72800:36:29,140 --> 00:36:32,800当然，这是我最喜欢的图。And then of course, thisis my favorite graph.72900:36:32,800 --> 00:36:35,890这个，你可能不会经常看到这个。So this one, you might nothave seen quite so often.73000:36:35,890 --> 00:36:37,000这称为贝尔定律。This is called Bell's Law.73100:36:37,000 --> 00:36:39,880这是每人的计算机数量。This is the number ofcomputers per person.73200:36:39,880 --> 00:36:44,230如果回想一下什么时候，您基本上可以拥有And if you look way back when,you might have basically one73300:36:44,230 --> 00:36:46,760一百万人每人一台计算机。computer for a million people.73400:36:46,760 --> 00:36:48,190这些是数量级。These are orders of magnitude.73500:36:48,190 --> 00:36:54,550每十年，您都会拥有一台新的计算机。And each decade, you sortof had a new type of item.73600:36:54,550 --> 00:36:56,350而现在，我们走得更远And now, we're atthe far end, where73700:36:56,350 --> 00:37:00,650可能在这个房间里为每个人拥有数千个CPU。you might have thousands of CPUsfor each person in this room.73800:37:00,650 --> 00:37:03,130考虑一下，即使你的手机Now if you think aboutthat, even your cell phone's73900:37:03,130 --> 00:37:04,803大概有八个CPU。probably got eight CPUs.74000:37:04,803 --> 00:37:06,220如果你有车，那可能是If you've got acar, it's probably74100:37:06,220 --> 00:37:08,620有100或200个CPU。got 100 or 200 CPUs in it.74200:37:08,620 --> 00:37:10,840他们加起来真的很快。They add up really quickly.74300:37:10,840 --> 00:37:12,980物联网的概念And this notion of theinternet of things,74400:37:12,980 --> 00:37:16,270我们将在本学期稍后讨论which we will also talkabout later in the term,74500:37:16,270 --> 00:37:17,790到处都有传感器，potentially hassensors everywhere,74600:37:17,790 --> 00:37:21,050在墙壁等处为您工作。in the walls, et cetera,that are working for you.74700:37:21,050 --> 00:37:23,570因此，当您进入新环境时，So when you come intoa new environment,74800:37:23,570 --> 00:37:25,600远景不远，the vision, which isnot all that far away,74900:37:25,600 --> 00:37:29,350是您的手机或其他物品is that your cell phonesor other items that75000:37:29,350 --> 00:37:32,050与周围环境通信are on your own person reachout to the local environment75100:37:32,050 --> 00:37:35,830并协商，为您计算，协商本地存储。and negotiate, compute foryou, negotiate local storage.75200:37:35,830 --> 00:37:39,820可能还有传感器，您在房间里有什么，And potentially, sensors,what have you, in the room,75300:37:39,820 --> 00:37:44,400您基本上可以即时制作应用程序。and you can basically, on thefly, craft an application.75400:37:44,400 --> 00:37:49,170实际上，这并不像听起来那样奇怪。That's actually not asstrange as it might sound.75500:37:49,170 --> 00:37:50,998很快就能实现That's coming up.75600:37:50,998 --> 00:37:52,790因此，在那里有趣的是，And so what's interestingthere, of course,75700:37:52,790 --> 00:37:57,770是因为这样的事实，我们可以做出很小，但能充分is this is driven by this factthat we can make small, fully75800:37:57,770 --> 00:38:01,040运行操作系统的功能性食物functional things runningoperating systems that75900:38:01,040 --> 00:38:05,110在规模最小的地方，可以放置在任何地方。are at the low end of the scaleand can be placed anywhere.76000:38:05,110 --> 00:38:07,805伯克利是-And there's Berkeley is--76100:38:07,805 --> 00:38:10,180顺便说一句，伯克利在各个层面都广为人知。Berkeley is well known at alllevels of this, by the way.76200:38:10,180 --> 00:38:14,410从高端计算到开发，我们应有尽有We've got everything fromhigh-end computing work down76300:38:14,410 --> 00:38:18,820到云计算，一直到小的（-没听清-）和物联网to-- and cloud computing workdown into little moats and IoT76400:38:18,820 --> 00:38:19,330设备。devices.76500:38:19,330 --> 00:38:22,510所以你来对地方了So you're in the rightplace for this kind of thing76600:38:22,510 --> 00:38:23,500即将发生。to be happening.76700:38:23,500 --> 00:38:27,120许多令人兴奋的应用程序。Lots of exciting applications.76800:38:27,120 --> 00:38:29,020还有很多种时间尺度。And lots of timescales.76900:38:29,020 --> 00:38:32,260所有内容，从不到十亿分之一秒的现金查询Everything from cash referencesthat are in the sub nanosecond77000:38:32,260 --> 00:38:36,460到100毫秒或更长时间的击键。range up to keystrokes thatare 100 milliseconds or more.77100:38:36,460 --> 00:38:41,150所以我把这个放在这里的原因是我So the reason I putthis up here is I77200:38:41,150 --> 00:38:44,600希望你们看到巨大的不同want you to seethe vast difference77300:38:44,600 --> 00:38:47,150在你的CPU中不同的时间尺度之间between differenttimescales in your CPU77400:38:47,150 --> 00:38:50,080您随身携带的手机或手机。that you're carrying withyou, or your cell phone.77500:38:50,080 --> 00:38:52,075这有很多数量级的差别。That's a lot ofzeros of difference.77600:38:52,075 --> 00:38:53,950这意味着您的操作系统And that means somehow,your operating system77700:38:53,950 --> 00:38:58,000必须处理各种各样的利率，高利率has got to deal with that widevariety of rates, high rate77800:38:58,000 --> 00:39:00,190的东西，低利率的东西。stuff, low rate stuff.77900:39:00,190 --> 00:39:02,140高性能的东西，低性能的东西。High performance stuff,low performance stuff.78000:39:06,550 --> 00:39:08,200我喜欢的另一张图，The other graph Ilike, which is kind78100:39:08,200 --> 00:39:10,033有点像我刚刚给你看过的那个的倒置of the inverse of theone I just showed you,78200:39:10,033 --> 00:39:14,530是物联网的规模，在低端，is the internet of thingsscale, where at the low end,78300:39:14,530 --> 00:39:18,610我们只有一些微小的传感器，延伸出去，we've got little tinysensors, and as we reach out,78400:39:18,610 --> 00:39:22,120互联网的另一端是巨大的集群。the other end of theinternet are huge clusters.78500:39:22,120 --> 00:39:23,920我们都知道云。We all know about the cloud.78600:39:23,920 --> 00:39:26,677但是您是否意识到介于两者之间的几乎所有内容，But did you realize that prettymuch everything in between,78700:39:26,677 --> 00:39:29,260小电脑和云都相互连接the little motes and the cloudare all connected to each other78800:39:29,260 --> 00:39:31,132和一起运作？and functioning together?78900:39:31,132 --> 00:39:33,590因此，我希望能给你们一点看法，随着我们And so I'm hoping to give youa little bit of a view, as we79000:39:33,590 --> 00:39:36,530讲得更深入，关于如何思考这样的系统。move forward, about how tothink about systems like this.79100:39:36,530 --> 00:39:40,750你们如何看待这种规模的事物？How do you think aboutsomething at this scale?79200:39:40,750 --> 00:39:41,890你们大多数人And most of you--79300:39:41,890 --> 00:39:45,500有多少人拥有智能手机？how many peoplehave a smartphone?79400:39:45,500 --> 00:39:46,358你们大多数人。Most of you.79500:39:46,358 --> 00:39:48,150当你坐下并输入内容时So when you sit downand you type something79600:39:48,150 --> 00:39:50,550在您的智能手机上，有趣的是on your smartphone, what'sinteresting about that79700:39:50,550 --> 00:39:54,300你正在做的事情涉及电话，is what you're doinginvolves the phone,79800:39:54,300 --> 00:39:57,460它涉及当地的蜂窝塔。it involves a local cell towers.79900:39:57,460 --> 00:40:01,930它涉及云中的事物，至少三个级别。It involves things in the cloud,that's at least three levels.80000:40:01,930 --> 00:40:04,288随着我们讲深入，我会说And as we moveforward, I would say80100:40:04,288 --> 00:40:06,580它将开始发展越来越多的层级。that it's going to startevolving more and more levels.80200:40:09,640 --> 00:40:12,790因此，让我们暂停片刻。So let's pause for a moment.80300:40:12,790 --> 00:40:14,350我是谁？Who am I?80400:40:14,350 --> 00:40:18,696好吧，我已经提到我是库比教授。Well, I already mentionedthat I'm professor Kubi.80500:40:18,696 --> 00:40:22,420在我来到这里之前，我曾在麻省理工学院。Before I came tohere, I was at MIT.80600:40:22,420 --> 00:40:26,950我在设计一些最初的硬件I was designing some of thefirst pieces of hardware80700:40:26,950 --> 00:40:28,870共享内存和消息传递that did both sharedmemory and message80800:40:28,870 --> 00:40:30,860在同一个芯片上。passing in the same chip.80900:40:30,860 --> 00:40:33,568这实际上是我设计的芯片。This is actuallya chip I designed.81000:40:33,568 --> 00:40:35,110我不会告诉你多少个晶体管I won't tell youhow many transistors81100:40:35,110 --> 00:40:40,490因为相对于今天而言，它的数量很少。are on it, because it's a smallnumber, relative to today.81200:40:40,490 --> 00:40:42,407我在操作系统方面有很大的背景。I have a big backgroundin operating systems.81300:40:42,407 --> 00:40:44,615因此，除其他外，我为雅典娜计划工作So I, among other things,I worked for Project Athena81400:40:44,615 --> 00:40:48,700在麻省理工学院，这是最早的项目之一at MIT, which was one ofthe first projects that81500:40:48,700 --> 00:40:51,130试图建立分布式计算tried to builddistributed computing81600:40:51,130 --> 00:40:52,850在基础架构里。into the infrastructure.81700:40:52,850 --> 00:40:54,020那是什么意思What do I mean by that?81800:40:54,020 --> 00:40:55,900好吧，你今天习惯了什么？Well, what areyou used to today?81900:40:55,900 --> 00:40:58,180你习惯对着笔记本电脑，You're used to sittingon your laptop,82000:40:58,180 --> 00:41:01,360通过网络访问存储，reaching out to storagethat's over the network,82100:41:01,360 --> 00:41:03,650与服务互动。interacting with services.82200:41:03,650 --> 00:41:06,040那只是-您每天都这样做，对吗？That's just kind of-- youdo that every day, right?82300:41:06,040 --> 00:41:09,320回到雅典娜计划，当时这些事还不是那么常见。Back in Project Athena,that wasn't done every day.82400:41:09,320 --> 00:41:11,140因此，我们做了各种各样的事情，And so we did allsorts of things,82500:41:11,140 --> 00:41:14,860像开发了新的操作系统驱动程序和网络文件like developed a new operatingsystem drivers and network file82600:41:14,860 --> 00:41:17,680系统和Kerberos身份验证等systems and Kerberosauthentication and all that82700:41:17,680 --> 00:41:21,080来自雅典娜计划。came out of Project Athena.82800:41:21,080 --> 00:41:25,730我还参与了“镶嵌项目”I also worked on somethingcalled the Tessellation Project82900:41:25,730 --> 00:41:28,880在伯克利，这是一个基础的here at Berkeley, whichwas a ground-up operating83000:41:28,880 --> 00:41:31,940我们从头开始做的操作系统。system that we workedon, from the ground up.83100:41:31,940 --> 00:41:34,970然后，我刚来的时候我最有名的一点是And then, what I was mostwell-known for when I first got83200:41:34,970 --> 00:41:36,770点对点（p2p）系统。here, is peer-to-peer systems.83300:41:36,770 --> 00:41:38,960所以我有一个名为Ocean Store的项目So I had a projectcalled Ocean Store, which83400:41:38,960 --> 00:41:42,320是最早的云存储系统之一，was one of the firstcloud storage systems,83500:41:42,320 --> 00:41:44,750这件事发生在任何人使用“云”这个词back before anybodyused the word "cloud"83600:41:44,750 --> 00:41:46,520谈论计算机之前。to talk about computers.83700:41:46,520 --> 00:41:49,830我们的重要指标之一是，比如And one of our importantmetrics was, for instance,83800:41:49,830 --> 00:41:53,010您如何存储数据1000年？how do you storedata for 1,000 years?83900:41:53,010 --> 00:41:54,440我们将更多地谈论And we'll talkmore about how you84000:41:54,440 --> 00:41:56,523你如何使用删除码等can use erasure codesand other things84100:41:56,523 --> 00:41:58,940来潜在地存储您的信息like that to potentially storeyour information for a very84200:41:58,940 --> 00:42:00,873很久。long time.84300:42:00,873 --> 00:42:02,540还有一些非常有趣的And there are alsosome very interesting84400:42:02,540 --> 00:42:04,670点对点系统，例如Tapestry和Bamboopeer-to-peer systems,like Tapestry and Bamboo84500:42:04,670 --> 00:42:08,510那来自于我们的项目。that came out of our project.84600:42:08,510 --> 00:42:12,260最近，我一直在从事项目Somewhat most recently, I'vebeen working on projects84700:42:12,260 --> 00:42:13,640与群实验室有关。related to the swarm lab.84800:42:13,640 --> 00:42:15,950我有一个全新的项目，I have a brandnew project, which84900:42:15,950 --> 00:42:19,220基本上在全局数据平面上称为Fog Robotics。basically is called Fog Roboticson the global data plane.85000:42:19,220 --> 00:42:20,750我会告诉你更多。I'll tell you more about that.85100:42:20,750 --> 00:42:22,790但是我们基本上是在试图改变世界But we're basicallytrying to change the world85200:42:22,790 --> 00:42:28,542通过改变人们谈论网络时by altering the abstractionat which people talk about85300:42:28,542 --> 00:42:29,250的抽象方法。with the network.85400:42:29,250 --> 00:42:30,830因此，与其谈论数据包，So rather thantalking about packets,85500:42:30,830 --> 00:42:33,762他们开始谈论连贯的信息，they start talking aboutcoherent chunks of information,85600:42:33,762 --> 00:42:35,720我们称之为数据胶囊，我们会说更多which we call datacapsules, and we'll say more85700:42:35,720 --> 00:42:38,440随着学期的进行about that as the term goes on.85800:42:38,440 --> 00:42:42,020唯恐我不该提及，忘记提及，And lest I should notmention, forget to mention,85900:42:42,020 --> 00:42:44,970我也做量子计算this, I also doquantum computing,86000:42:44,970 --> 00:42:47,300这超出了本课程的范围。which is a little out ofthe scope for this class.86100:42:47,300 --> 00:42:49,897有时候，最后的一堂课，同学们Sometimes, the finallecture, people86200:42:49,897 --> 00:42:51,980选择他们想要谈论的话题。get to choose what topicsthey want to talk about.86300:42:51,980 --> 00:42:54,020有时，人们问我有关量子计算的问题，Occasionally, people askme about quantum computing,86400:42:54,020 --> 00:42:54,728它已经完成。it has been done.86500:42:57,390 --> 00:43:00,720因此，我们有八个TA，他们在这里吗？So we have eightTAs, are they here?86600:43:00,720 --> 00:43:02,720谁在这里，你们能站起来几秒钟吗？Whoever's here, can youguys stand up for a sec?86700:43:05,690 --> 00:43:07,207我想他没有都来。I guess they didn't all make it.86800:43:07,207 --> 00:43:08,165让我们给他们鼓个掌。Let's give them a hand.86900:43:14,710 --> 00:43:17,980学期结束时，我们要站起来，At the very end of the term,last class, we'll say stand up,87000:43:17,980 --> 00:43:19,930我们会再鼓个掌，因为你们we'll give them a handagain, because you guys87100:43:19,930 --> 00:43:23,100会有一个很棒的学期will have such a great term.87200:43:23,100 --> 00:43:27,420你们知道，我们有一个-But you know, we have a very--87300:43:27,420 --> 00:43:29,220今年我们有很好的员工，we have a very goodstaff this year,87400:43:29,220 --> 00:43:33,360因此，我对这个学期感到非常兴奋。and so I'm really excited abouthow this term's going to go.87500:43:33,360 --> 00:43:37,585因此，这些TA要讲的练习课-So the sections that theseTAs are running are still--87600:43:37,585 --> 00:43:39,460我认为他们实际上可能已经被分配了，I think they actuallymay have been assigned,87700:43:39,460 --> 00:43:41,670但是我现在要说尚待公布。but I will say TBA for now.87800:43:41,670 --> 00:43:43,900你已经知道每个人将要去哪里吗？You already know whereeverybody is going to be?87900:43:43,900 --> 00:43:44,400没有。No.88000:43:44,400 --> 00:43:45,050他们是待定。They are TBA.88100:43:45,050 --> 00:43:46,342学生：[听不清]我们所有人。STUDENT: [INAUDIBLE] All of us.88200:43:46,342 --> 00:43:47,758JOHN KUBIATOWICZ：你们所有人？JOHN KUBIATOWICZ:All of you guys?88300:43:47,758 --> 00:43:48,550学生：我们愿意。STUDENT: We do.88400:43:48,550 --> 00:43:49,050[听不清][INAUDIBLE]88500:43:49,050 --> 00:43:49,290JOHN KUBIATOWICZ：好的，是的。JOHN KUBIATOWICZ: Okay, yep.88600:43:49,290 --> 00:43:51,850所以练习课已经在网站上，所以看看什么部分。So they're already up on thewebsite, so see what sections.88700:43:51,850 --> 00:43:54,280顺便说一下，今年我们所有的练习课都在星期五。All of our sections, by theway, are on Friday this year.88800:43:54,280 --> 00:43:55,905我知道有人对此有疑问，I know there was aquestion about that,88900:43:55,905 --> 00:43:58,110但这就是事实。but that's kind of where it is.89000:43:58,110 --> 00:44:05,910我们的基础设施是一个网站162.eecs.berkeley.edu。Our infrastructure is there's awebsite, 162.eecs.berkeley.edu.89100:44:05,910 --> 00:44:10,640每个人都发现了有piazza（课程网站）。There's a piazza, whicheverybody has found.89200:44:10,640 --> 00:44:17,410暂时进行网络广播。And there is awebcast, tentatively.89300:44:17,410 --> 00:44:19,510我确实想谈一谈。There is something Idid want to talk about.89400:44:19,510 --> 00:44:25,665因此，网络广播确实旨在作为一种学习辅助工具。So the webcast is reallyintended as a learning aid.89500:44:25,665 --> 00:44:27,040我会说你不应该I would say thatyou shouldn't be89600:44:27,040 --> 00:44:30,040假设网络广播将取代assuming that the webcastis a replacement from coming89700:44:30,040 --> 00:44:31,072授课。to lecture.89800:44:31,072 --> 00:44:32,530实际上，这是我们的经验It's been, actually,our experience89900:44:32,530 --> 00:44:35,530那些只通过网络广播观看的人that people that onlywatch through the webcast90000:44:35,530 --> 00:44:38,420错过了很多重要的事情，很快就落后了。miss a lot of important thingsand get behind pretty quickly.90100:44:38,420 --> 00:44:41,350所以我强烈鼓励你So I would stronglyencourage you90200:44:41,350 --> 00:44:46,330不要认为网络广播是你的唯一互动to not assume the webcastis your sole interaction90300:44:46,330 --> 00:44:47,410和课上的人。with the class.90400:44:47,410 --> 00:44:51,220我假设一会And I'm assuming for amoment that the people that90500:44:51,220 --> 00:44:53,830可能有申请网络广播的人正在等它被放出来。might apply to are waitingfor the webcast to come out.90600:44:56,920 --> 00:45:00,440讲座结束后不会马上放出来。It will not beimmediately after lecture.90700:45:00,440 --> 00:45:02,740我想我可能会保留网络广播，I'm thinking I probablywill keep the webcast,90800:45:02,740 --> 00:45:05,890因为我们说过会，但是可能会有所延迟。since we said we would, butit might be a little delayed.90900:45:05,890 --> 00:45:07,992我会告诉你，并非总是如此-And I will tell you,it's not always--91000:45:07,992 --> 00:45:08,950它并不总是有效。it doesn't always work.91100:45:12,760 --> 00:45:16,210教科书是操作系统的教科书，原理Textbook is the operatingsystems textbook, principles91200:45:16,210 --> 00:45:17,290和练习。and practice.91300:45:17,290 --> 00:45:18,817这个很不错。It's pretty good.91400:45:18,817 --> 00:45:19,900我绝对推荐。I definitely recommend it.91500:45:19,900 --> 00:45:22,210还有另一种可选文本There's another,optional text, which91600:45:22,210 --> 00:45:24,970我忘了把幻灯片放到这里，I forgot to put theslide up here, which91700:45:24,970 --> 00:45:29,020我会在需要时提及。I will mention when we need it.91800:45:29,020 --> 00:45:30,640所有这些信息实际上是All of thisinformation is actually91900:45:30,640 --> 00:45:33,310在我们网站的资源页面上。on our resourcespage of the website.92000:45:33,310 --> 00:45:36,220还有另一本书，就是我们There's another bookthat is the one that we92100:45:36,220 --> 00:45:40,630过去用于162，它的方式略有不同used to use for 162, it'sgot a slightly different way92200:45:40,630 --> 00:45:42,640解释事情，我发现of explaining things,and I have found92300:45:42,640 --> 00:45:45,530如果第一本教科书不起作用，that if the way the firsttext book doesn't work,92400:45:45,530 --> 00:45:48,640第二个有时会有所帮助。the second one sometimes helps.92500:45:48,640 --> 00:45:50,680第二本教科书非常可爱，And the second textbookis pretty cute,92600:45:50,680 --> 00:45:54,040它封面有恐龙等等，所以也许有帮助。it's got dinosaurs and so onin it, so perhaps that helps.92700:45:56,660 --> 00:45:59,110然后，有很多在线内容。And then, there's alot of online stuff.92800:45:59,110 --> 00:46:02,248所以这个网站，在这里，我鼓励你们So this website, here,I encourage you guys92900:46:02,248 --> 00:46:04,790看看进度表，它仍在进行中，to look past the schedule, whichis still a work in progress,93000:46:04,790 --> 00:46:06,550顺便说说。by the way.93100:46:06,550 --> 00:46:08,140因为在资源页面上，我们Because on theresources page, we93200:46:08,140 --> 00:46:14,530有诸如研究论文和书籍之类的东西你可以阅读have things like research papersand books that you can read93300:46:14,530 --> 00:46:18,490诸如此类的东西确实可以提供帮助。and things like that thatare really intended to help.93400:46:18,490 --> 00:46:20,440特别是，我要多说一点And in particular, andI'm going to say more93500:46:20,440 --> 00:46:24,220在几张幻灯片中，这门课about this in a fewslides, this class93600:46:24,220 --> 00:46:30,910非常依赖于你对C语言的理解。is pretty heavily reliant on youunderstanding the C language.93700:46:30,910 --> 00:46:36,990现在是语言C，不是BNow that's thelanguage, C. It's not B,93800:46:36,990 --> 00:46:41,030也不是C++，在这门课中。it's not C++ in this class.93900:46:41,030 --> 00:46:44,410因此，这非常重要，我们And so this is veryimportant, and we're94000:46:44,410 --> 00:46:52,300将尝试唤醒你记忆中从61C学到的C的知识，going to try to front loadyour memory on C, from 61C,94100:46:52,300 --> 00:46:59,870所以我们实际上有一个作业and so we actuallyhave a 94200:46:59,870 --> 00:47:03,710作业0，即将发布，希望homework 0, which is going to bereleased soon, hopefully94300:47:03,710 --> 00:47:05,810午夜前。before midnight.94400:47:05,810 --> 00:47:08,607我们将进行有关C语言的复习And we're going to have areview session on the C language94500:47:08,607 --> 00:47:10,190下周一，我将详细说明。next Monday, I'llsay more about that.94600:47:10,190 --> 00:47:14,090但是你们必须快速跟上。But you've got to getup to speed quickly.94700:47:14,090 --> 00:47:20,150教学大纲是一堆OS概念，The syllabus is abunch of OS concepts,94800:47:20,150 --> 00:47:22,520基本上可以帮助您了解如何导航basically helping you tounderstand how to navigate94900:47:22,520 --> 00:47:23,660作为系统程序员。as a system programmer.95000:47:23,660 --> 00:47:26,930因此，进程，IO，网络和虚拟机。So process, IO, networks,and virtual machines.95100:47:26,930 --> 00:47:30,020并发，我们将讨论线程，调度，锁，Concurrency, we'll talk aboutthreads, scheduling, locks,95200:47:30,020 --> 00:47:32,722死锁，可扩展性，公平性。deadlocks,scalability, fairness.95300:47:32,722 --> 00:47:34,430我们将讨论地址空间。We're going to talkabout address spaces.95400:47:34,430 --> 00:47:36,430你们之前在这儿看到了一点，实用程序，You saw a little bit upthere, utility, earlier,95500:47:36,430 --> 00:47:39,045当我们保护绿色免受橙色和红色侵害时。when we were protectinggreen from orange and red.95600:47:39,045 --> 00:47:41,420但是我们将讨论虚拟内存，地址转换，But we'll talk about virtualmemory, address translation,95700:47:41,420 --> 00:47:43,130保护。protection.95800:47:43,130 --> 00:47:46,040我们将讨论文件系统。We're going to talkabout file systems.95900:47:46,040 --> 00:47:49,580IO设备，文件对象，存储，命名，缓存，所有IO devices, file objects,storage, naming, caching, all96000:47:49,580 --> 00:47:51,830这些有趣的事情。of these interesting things.96100:47:51,830 --> 00:47:57,500我特别的关注-存储是我的最爱，好吗？My particular-- storageis my thing, okay?96200:47:57,500 --> 00:48:00,590因为我相信我们的数据是Because I believethat our data is96300:48:00,590 --> 00:48:03,680我们需要保护的最重要的东西。the most important thing outthere that we need to protect.96400:48:03,680 --> 00:48:05,780我们需要保护它免受破坏，We need to protectit from breaches,96500:48:05,780 --> 00:48:07,910我们需要保护它免于损耗，we need to protectit from bit rot,96600:48:07,910 --> 00:48:12,197有很多事情，因为从某种意义上说，数据是社会。there's many things, because thedata is society, in some sense.96700:48:12,197 --> 00:48:14,280因此，我们必须确保保护我们的数据。And so we've got to makesure to protect our data.96800:48:14,280 --> 00:48:17,430因此，在后面的课程中，我们将谈论很多。So what we're going talk a lotabout that as we go forward.96900:48:17,430 --> 00:48:20,630人们关注的太少There's been fartoo little focus97000:48:20,630 --> 00:48:26,010关于信息的脆弱性，作为操作系统，on how fragile informationis, as operating systems,97100:48:26,010 --> 00:48:27,410所以我们会讨论这个。so we'll talk about that.97200:48:27,410 --> 00:48:28,580分布式系统。Distributed systems.97300:48:28,580 --> 00:48:32,090我们将讨论协议以及RPC和NFSWe're going to talk aboutprotocols and RPC and NFS97400:48:32,090 --> 00:48:34,730和DHT以及一致性，可扩展性。and DHTs andconsistency, scalability.97500:48:34,730 --> 00:48:37,910所有这些术语以后都会对您有所帮助。All of these terms willmean something to you later.97600:48:37,910 --> 00:48:40,880以前有多少人遇到过分布式哈希表？How many people have run intodistributed hash tables before?97700:48:40,880 --> 00:48:44,510我认为我们曾经在61C中这样做。I think we used todo those in the 61Cs.97800:48:44,510 --> 00:48:46,550好吧，我们将学到更多有关它们的知识。Well, we will learn alot more about them.97900:48:49,650 --> 00:48:52,340我们将讨论可靠性和安全性，容错能力，We'll talk about reliabilityand security, fault tolerance,98000:48:52,340 --> 00:48:54,380保护，安全。protection, security.98100:48:54,380 --> 00:49:00,620因此，我们只能真正涉及其中一些主题，So some of these topics wecan only really touch on,98200:49:00,620 --> 00:49:04,220但我希望给您足够的操作系统知识，but I'm hoping to giveyou enough operating98300:49:04,220 --> 00:49:07,250那么你们可以参加161等课程，knowledge that you can thengo into a class like 161,98400:49:07,250 --> 00:49:10,310或类似的东西，有一个较好的概念or something likethat, with a good idea98500:49:10,310 --> 00:49:12,350需要做什么。what needs to go forward.98600:49:12,350 --> 00:49:15,140有多少人上过或者计划上161？How many people have taken,or are planning to take, 161?98700:49:15,140 --> 00:49:17,200只是出于好奇。Just out of curiosity.98800:49:17,200 --> 00:49:19,480好。Good.98900:49:19,480 --> 00:49:21,890152呢？How about 152?99000:49:21,890 --> 00:49:24,720你们几个人，很好。Got a few of you, good.99100:49:24,720 --> 00:49:26,990168？168?99200:49:26,990 --> 00:49:29,180学网络的人，好的，很好。Networking folks, okay, good.99300:49:29,180 --> 00:49:33,790因此，所有这些课都有点围绕162。So all of these classeskind of revolve around 162.99400:49:33,790 --> 00:49:36,220因为您知道硬件在下面，Because one, you know, thehardware is underneath,99500:49:36,220 --> 00:49:37,720安全协议在最上面the securityprotocols are on top,99600:49:37,720 --> 00:49:41,390并且操作系统在中间是smack dab。and the operating systemis smack dab in the middle.99700:49:41,390 --> 00:49:43,542因此，最好知道该层是关于什么的And so having a good ideawhat that layer's about99800:49:43,542 --> 00:49:44,500会有所帮助。is going to be helpful.99900:49:47,460 --> 00:49:49,340当然，我们将讨论云。And we'll talk aboutthe cloud, of course.100000:49:49,340 --> 00:49:50,795但是，我们还将讨论雾。But we'll alsotalk about the fog.100100:49:53,990 --> 00:49:56,460如果您能想象会是什么。If you can imaginewhat that might be.100200:49:56,460 --> 00:50:01,050我们不是在谈论旧金山的早上，And we're not talking about SanFrancisco on an early morning,100300:50:01,050 --> 00:50:03,470我们在谈论别的东西。we're talking aboutsomething else, there.100400:50:03,470 --> 00:50:06,450所以这堂课是边干边学。So this class is about--is learning by doing.100500:50:06,450 --> 00:50:08,180所以有三个项目So there's threeprojects, they've100600:50:08,180 --> 00:50:11,030在上学期进行了重新安排和简化，been rearranged andsimplified a bit last term,100700:50:11,030 --> 00:50:16,990我们将主要坚持上学期发生的事情，we're going to stick mostlywith what happened last term,100800:50:16,990 --> 00:50:18,110有一些调整。with some tweaks.100900:50:18,110 --> 00:50:19,740有一个用户程序。There's a user program.101000:50:19,740 --> 00:50:22,863因此，您将从如何使用这些东西开始，So you're going to start at thehow do you use these things,101100:50:22,863 --> 00:50:23,530然后我们-and then we're--101200:50:23,530 --> 00:50:26,020第二个项目将关于线程和调度，second project will be inthreads and scheduling,101300:50:26,020 --> 00:50:28,840第三个项目是文件系统。and third projectin file systems.101400:50:28,840 --> 00:50:31,180这些项目，我稍后再说，These projects, I'lltalk about later,101500:50:31,180 --> 00:50:32,860每四人一组。are done in groups of four.101600:50:32,860 --> 00:50:35,950因此，我们假设您开始组建团体，So we're going to assume thatyou're starting to form groups,101700:50:35,950 --> 00:50:37,880即使我们工作。even as we work.101800:50:37,880 --> 00:50:40,870我们正在尝试的一件事，这是本学期的新事物，One of the things that we aretrying, that's new this term,101900:50:40,870 --> 00:50:42,940是我们拆分了作业，is we've split thehomeworks, that102000:50:42,940 --> 00:50:46,570过去是非常大的东西，分成一个一个星期的小块used to be really large things,into one-week chunks that102100:50:46,570 --> 00:50:48,310更易消化。are a little more digestible.102200:50:48,310 --> 00:50:51,820除了第一个例外。With the sole exceptionof the first one.102300:50:51,820 --> 00:50:54,710第一个，我称为作业零，The first one, whichI call Homework Zero,102400:50:54,710 --> 00:50:57,070我是计算机科学家，我可以从零开始，对吗？I'm a computer scientist, Ican start with zero, right?102500:50:57,070 --> 00:51:00,970零作业实际上是两周的作业。And Homework Zero isactually a two week thing.102600:51:00,970 --> 00:51:04,330它将在今晚发布。And it's going to behanded out tonight.102700:51:04,330 --> 00:51:09,300今晚你们应该可以开始做它。And you should getgoing on it tonight.102800:51:09,300 --> 00:51:10,210问题，是吗？Question, yes?102900:51:10,210 --> 00:51:12,505学生：这些作业是在Gradescope上进行的吗？STUDENT: Are thesehomeworks on Gradescope?103000:51:12,505 --> 00:51:13,880JOHN KUBIATOWICZ：这些作业JOHN KUBIATOWICZ:These homeworks103100:51:13,880 --> 00:51:16,340将用我们的自动打分器。are going to be inour auto grader.103200:51:16,340 --> 00:51:17,680他们将-And they will be--103300:51:17,680 --> 00:51:21,000您将在“作业零”中了解有关内容。which you'll learnabout in Homework Zero.103400:51:21,000 --> 00:51:23,330但我认为我们确实支持Gradescope-But I think we dosupport Gradescope--103500:51:23,330 --> 00:51:25,187学生：书面内容将[听不清] ..STUDENT: Written thingswill [INAUDIBLE]..103600:51:25,187 --> 00:51:26,770JOHN KUBIATOWICZ：是的，书面的东西JOHN KUBIATOWICZ:Yeah, written things103700:51:26,770 --> 00:51:29,140将通过Gradescope进行，但是这些项目will go in throughGradescope, but these projects103800:51:29,140 --> 00:51:32,052家庭作业大部分将通过自动评分机进行。and homeworks will be mostlygone through the auto grader.103900:51:32,052 --> 00:51:33,010这是个好问题。That's a good question.104000:51:33,010 --> 00:51:35,010我们通过自动评分机打分的原因The reason we put thingsthrough the auto grader104100:51:35,010 --> 00:51:37,450我们可以自动测试功能，is we can automaticallytest functionality,104200:51:37,450 --> 00:51:39,770确保一切正常。make sure things work.104300:51:39,770 --> 00:51:40,990行？All right?104400:51:40,990 --> 00:51:42,247还有其他问题吗？Any other questions?104500:51:45,830 --> 00:51:47,530好的All righty.104600:51:47,530 --> 00:51:53,750所以我希望当你离开这堂课时，So I hope when youget out of this class,104700:51:53,750 --> 00:51:58,780你将有一些重要的技能you will have somesignificant skills104800:51:58,780 --> 00:52:02,720如何编程系统。in how to program systems.104900:52:02,720 --> 00:52:06,992希望您会学习C。否则，您将You will hopefully learnC. If you don't, you're105000:52:06,992 --> 00:52:07,950将会有麻烦。going to be in trouble.105100:52:07,950 --> 00:52:09,790您将学习如何使用git。You'll learn how to use git.105200:52:09,790 --> 00:52:14,590您将学习如何构建操作系统的各个部分。You'll learn how to buildparts of an operating system.105300:52:14,590 --> 00:52:17,290实际上，您将会掌握一套技能，You will actually have a skillset that comes out of this,105400:52:17,290 --> 00:52:19,690这是值得的。and it's worthwhile.105500:52:19,690 --> 00:52:22,390这些技能你们基本上可以And it will be a skillset that you can basically105600:52:22,390 --> 00:52:25,153转移到各种各样有趣的事情上。transfer to a wide varietyof interesting things.105700:52:25,153 --> 00:52:27,070我会指出，之所以我强调And I will point out,the reason I highlighted105800:52:27,070 --> 00:52:30,395最后两个红色的作业，是因为它们实际上是the last two homeworks in red,they're really kind of part 1105900:52:30,395 --> 00:52:32,770同一作业的第一和第二部分，我们甚至会and part 2 of the same homework,is we'll even be looking106000:52:32,770 --> 00:52:34,520学一点Go，好吗？at Go a little bit, okay?106100:52:34,520 --> 00:52:35,340好极了！Yay!106200:52:35,340 --> 00:52:36,660！Boo!106300:52:36,660 --> 00:52:38,910我不知道。I don't know.106400:52:38,910 --> 00:52:42,300Go是一种有趣的语言，Go is an interestinglanguage that106500:52:42,300 --> 00:52:44,375在硅谷的某些地方逐渐流行，has been catching onin parts of the valley,106600:52:44,375 --> 00:52:46,500所以你至少会有一点机会and so you'll at least geta little bit of a chance106700:52:46,500 --> 00:52:48,640一起玩。to play with it.106800:52:48,640 --> 00:52:50,812我不知道我们是否很快会I don't know that there'sanytime soon that we would106900:52:50,812 --> 00:52:52,770在Go中完成整个课程，但可以肯定的是，do the whole class inGo, but certainly, you'll107000:52:52,770 --> 00:52:55,470最后有一点机会做一些这样的事情。get a little chance to dosome of this at the very end.107100:52:55,470 --> 00:52:57,101好吧，还有其他问题吗？All right, any other questions?107200:52:59,650 --> 00:53:00,150好？Good?107300:53:00,150 --> 00:53:01,670好的？Okay?107400:53:01,670 --> 00:53:03,060边干边学。Learning by doing.107500:53:03,060 --> 00:53:05,130那么这是什么意思？So what does this mean?107600:53:05,130 --> 00:53:09,530好吧，我们的项目是实际的建设项目Well, our projects areactual construction projects107700:53:09,530 --> 00:53:11,053在操作系统内部。inside the operating system.107800:53:11,053 --> 00:53:12,470所以我们正在使用的操作系统So we're using anoperating system107900:53:12,470 --> 00:53:15,740称为Pintos，这是一个真正的，诚实到善的操作系统called Pintos, which is a real,honest-to-goodness operating108000:53:15,740 --> 00:53:20,420您可以在硬件上本地启动的系统。system that you couldboot natively on hardware.108100:53:20,420 --> 00:53:24,140最近，也许这学期会，我不知道，One of these days, maybe thiswill be the term, I don't know,108200:53:24,140 --> 00:53:27,680我一直在想让你们复制I have been thinking aboutactually having you guys copy108300:53:27,680 --> 00:53:30,110可启动版本到一个小记忆棒上a bootable version ona little memory stick108400:53:30,110 --> 00:53:34,460这样您就可以将其放入实际的笔记本电脑中并启动它。so that you can put it intoan actual laptop and boot it.108500:53:34,460 --> 00:53:36,944有多少人认为这很酷？How many people thinkthat would be cool?108600:53:36,944 --> 00:53:38,420学生：[听不清]STUDENT: [INAUDIBLE]108700:53:38,420 --> 00:53:39,980JOHN KUBIATOWICZ：好的。JOHN KUBIATOWICZ: Okay.108800:53:39,980 --> 00:53:41,480好吧，我们拭目以待。Well, we'll see.108900:53:41,480 --> 00:53:43,640反正，你们需要知道的是But the thing you shouldget out of what I just109000:53:43,640 --> 00:53:46,960这是真实的。said there is this is real.109100:53:46,960 --> 00:53:49,460因此，您将可以使用真正的操作系统。So you're going to get to playwith a real operating system.109200:53:49,460 --> 00:53:52,880它被精简了，但是问题和解决方案It's stripped down, butthe problems and solutions109300:53:52,880 --> 00:53:56,700在Pintos内部实际上是真正的问题。that are inside of Pintosare actually real problems.109400:53:56,700 --> 00:53:59,180因此，作为一个小组，您有四个成员，And so you, as a group,with four members,109500:53:59,180 --> 00:54:00,870实际上将有机会are actually goingto get a chance109600:54:00,870 --> 00:54:04,170解决其中一些问题。to tackle some ofthese problems.109700:54:04,170 --> 00:54:08,840顺便说一句，我不知道这里有多少人And by the way, I don't knowhow many people here have seen109800:54:08,840 --> 00:54:10,315寻找圣杯。the search for the holy grail.109900:54:10,315 --> 00:54:11,690但是我们在这里谈论的是But what we'retalking about here110000:54:11,690 --> 00:54:13,565这就像圣手榴弹，对吗？is this is like the HolyHand Grenade, right?110100:54:13,565 --> 00:54:18,110因此，您的小组中可以有四个成员，而不是三个和So there can be four members inyour group, not three, and not110200:54:18,110 --> 00:54:18,920五。five.110300:54:18,920 --> 00:54:20,900好的？Okay?110400:54:20,900 --> 00:54:24,140三可以算作四，You can get to four bycounting through three,110500:54:24,140 --> 00:54:25,610但绝对不能是五个人。but definitely not go to five.110600:54:25,610 --> 00:54:29,030好的，我们正在寻找四个成员。Okay, so we're lookingfor four members.110700:54:29,030 --> 00:54:30,800沟通，合作，将And communication,cooperation, will110800:54:30,800 --> 00:54:33,380在您的小组中至关重要。be essential in your groups.110900:54:33,380 --> 00:54:37,400将有设计文档。There is going tobe design documents.111000:54:37,400 --> 00:54:42,950您可以使用Slack或Messenger等在线工具，You can use online tools, likeSlack or Messenger or whatever,111100:54:42,950 --> 00:54:47,120但我我不喜欢这么说，你需要真正见面but I hate to tell you this,you need to actually meet111200:54:47,120 --> 00:54:49,490彼此面对面。with each other in person.111300:54:49,490 --> 00:54:53,015我意识到这违反了现代社会的所有戒律。And I realize this violatesall precepts of modern society.111400:54:55,950 --> 00:55:00,170但是，根据我的经验，人们-However, it has been myexperience that people--111500:55:00,170 --> 00:55:04,130尝试仅通过电子邮件交谈的小组，groups that attempt totalk only over email,111600:55:04,130 --> 00:55:09,600学期中会途陷入严重麻烦。end up in serious troubleby halfway through the term.111700:55:09,600 --> 00:55:12,095我意识到那只是没有道理，I realize that justdoesn't make sense,111800:55:12,095 --> 00:55:13,720似乎不应该这样。it seems like itshouldn't be that way.111900:55:13,720 --> 00:55:14,940但它是。But it is.112000:55:14,940 --> 00:55:17,340我认为当您将各个小组成员放在一起，I think when you putyour groups together,112100:55:17,340 --> 00:55:21,780计划每周见面两次。plan on meeting a couple oftimes a week, physically.112200:55:21,780 --> 00:55:22,740好的？Okay?112300:55:22,740 --> 00:55:24,930您会更快乐，而且您知道，You'll be muchhappier, and you know,112400:55:24,930 --> 00:55:26,760你们可以看看所有很棒的咖啡店you can check outall the great coffee112500:55:26,760 --> 00:55:28,950在伯克利到处都是。that we have floatingaround Berkeley, here.112600:55:28,950 --> 00:55:30,400好的？Okay?112700:55:30,400 --> 00:55:33,970我们在Etcheverry有新的咖啡屋，We've got the new coffeehouse in Etcheverry,112800:55:33,970 --> 00:55:36,040我们有Pete's，我们有各种各样的店we've got Pete's, we'vegot all sorts of stuff112900:55:36,040 --> 00:55:37,120到处都是。all over the place.113000:55:37,120 --> 00:55:39,670在不同的咖啡馆见面，喝杯咖啡。Meet in different coffeehouses and have good coffee.113100:55:39,670 --> 00:55:41,590或者，如果你不喜欢，那就喝茶。Or if that's notyour thing, tea.113200:55:41,590 --> 00:55:44,350或者你可以去Jupiter，但我不去-也许不应该Or you could go to Jupiter, butI'm not-- probably shouldn't113300:55:44,350 --> 00:55:45,800去那儿。go down there.113400:55:45,800 --> 00:55:52,870所以想想这个项目组So think of thisproject group as you're113500:55:52,870 --> 00:55:57,010试图使其运转，就像上油的机器一样。trying to make it work, likea smoothly oiled machine.113600:55:57,010 --> 00:55:59,470因此，找出每个人如何才能工作并拥有So figure out how everybodycan do work and have113700:55:59,470 --> 00:56:02,980明确职责，您将实际上clear responsibilities,and you will actually113800:56:02,980 --> 00:56:06,430在每个项目结束时评估您的队友evaluate your teammatesat the end of each project113900:56:06,430 --> 00:56:07,930关于他们的表现。as to how they have been doing.114000:56:07,930 --> 00:56:11,110现在，我们不会-我们用它来帮助我们了解小组Now, we don't-- we use thisto help us understand group114100:56:11,110 --> 00:56:13,660的动态。dynamics.114200:56:13,660 --> 00:56:18,400但是，重要的是要使功能发挥作用。But it's important to tryto make things functional.114300:56:18,400 --> 00:56:21,910按任务划分可能不是一个好方法。And dividing up by task isprobably not a good approach.114400:56:21,910 --> 00:56:28,657哦，是的，你做页表部分，你做调度部分，而我会做，Oh yeah, you do page tables, andyou do scheduling, and I'll do,114500:56:28,657 --> 00:56:29,740哦，我带咖啡。oh, I'll bring the coffee.114600:56:33,360 --> 00:56:35,820我认为最好和你们一起坐下来I think it's better tosit down as your group114700:56:35,820 --> 00:56:39,660并尝试弄清楚如何使其工作。and try to figure outhow to make it work.114800:56:39,660 --> 00:56:41,670我有时会做一个演讲，There is a lecturethat I sometimes give,114900:56:41,670 --> 00:56:44,400我已经好几年没做了，但也许我会，I haven't for a number ofyears, but maybe I will,115000:56:44,400 --> 00:56:46,260一些幻灯片a few slides thattalk about sort115100:56:46,260 --> 00:56:49,110关于如何安排团队。of ways of scheduling groups.115200:56:49,110 --> 00:56:51,420这对每个人都有趣吗？Would that beinteresting to anybody?115300:56:51,420 --> 00:56:52,485也许几张幻灯片？Maybe a few slides?115400:56:55,180 --> 00:56:57,280最重要的一点是Most important, highlevel bit, that you115500:56:57,280 --> 00:56:59,197你们从我这得到的建议是，should get out of whatI'm talking about here,115600:56:59,197 --> 00:57:00,400在一起见面。is meet together.115700:57:00,400 --> 00:57:02,230如果你们在一起见面，你已经If you meet together,you're already115800:57:02,230 --> 00:57:05,680拥有一个好的团队的50％。like 50% of the way tohaving a functional group.115900:57:10,320 --> 00:57:13,260当然，您可以查看自己在做什么的方式之一And of course, one of the waysyou can view what you're doing116000:57:13,260 --> 00:57:16,780就像在行业中，您正在一起工作，is this is like in industry,you're working together,116100:57:16,780 --> 00:57:20,410您正在与主管（TA）进行沟通，you're communicating with asupervisor, who is your TA,116200:57:20,410 --> 00:57:22,110你将基本上使他们you're going to bemaking them basically116300:57:22,110 --> 00:57:24,330关于团队计划的讨论，discussions about whatthe team's plan is,116400:57:24,330 --> 00:57:26,042有什么责任。what are the responsibilities.116500:57:26,042 --> 00:57:28,500您将提供简短的进度报告和设计You're going to be giving shortprogress reports and design116600:57:28,500 --> 00:57:30,870文档，就像您可能从事某行业一样。documents, just like youmight do an industry.116700:57:30,870 --> 00:57:32,280现在，那不是因为仅仅是Now, that isn'tbecause it's just116800:57:32,280 --> 00:57:33,738就像您在行业中可能会做的一样，like what you mightdo in industry,116900:57:33,738 --> 00:57:36,240这是因为这是我们认为的好方法it's because it is the waywe believe is a good way117000:57:36,240 --> 00:57:37,600确保您取得进展。to make sure you make progress.117100:57:37,600 --> 00:57:41,646因此，这有望在这些方面有所帮助。And so this is hopefullyhelping along those lines.117200:57:41,646 --> 00:57:43,242好吧，有什么问题吗？All right, any questions?117300:57:46,940 --> 00:57:47,440好的。Okay.117400:57:50,380 --> 00:57:57,750现在，有多少人注意到我们拥有Now, how many people havenoticed the fact that we have117500:57:57,750 --> 00:57:59,640墙上的周期表？a periodic table on the wall?117600:58:02,808 --> 00:58:04,100好吧，加点分。All right, couple extra points.117700:58:04,100 --> 00:58:06,313有多少人可以背诵前几行How many people couldrecite the first few lines117800:58:06,313 --> 00:58:06,980不看它？without looking?117900:58:09,872 --> 00:58:11,318学生：做吧！STUDENT: Do it!118000:58:13,798 --> 00:58:15,840JOHN KUBIATOWICZ：不要忘记您的周围环境。JOHN KUBIATOWICZ: Don'tforget your surroundings.118100:58:15,840 --> 00:58:18,390好吧，那么我们如何开始这堂课呢？All right, so how do weget started in this class?118200:58:18,390 --> 00:58:20,397作业零。Homework Zero.118300:58:20,397 --> 00:58:22,980顺便说一句，我喜欢在这个教室里教书，因为我不By the way, I love teaching inthis classroom, because I don't118400:58:22,980 --> 00:58:24,420知道，我教书的教室里know, the idea that I'mteaching in a classroom118500:58:24,420 --> 00:58:25,740有一张周期表with a periodictable in the wall118600:58:25,740 --> 00:58:27,240总是打动我的幻想。always struck myfancy a little bit.118700:58:30,002 --> 00:58:31,460我不知道，我父亲是化学家，I don't know, mydad was a chemist,118800:58:31,460 --> 00:58:32,627所以也许我喜欢那样。so maybe I like it that way.118900:58:32,627 --> 00:58:35,210但是立即开始“零作业”。But start HomeworkZero right away.119000:58:35,210 --> 00:58:38,000希望今天，它一发布就可以。Hopefully, today, assoon as it's released.119100:58:38,000 --> 00:58:39,600那能给你什么？What does that get you?119200:58:39,600 --> 00:58:42,170它为您提供了一个GitHub帐户，注册，调查，It gets you a GitHub account,registration, survey,119300:58:42,170 --> 00:58:46,010流浪汉VirtualBox设置，熟悉所有162vagrant VirtualBox set up,get familiar with all the 162119400:58:46,010 --> 00:58:46,520工具。tools.119500:58:46,520 --> 00:58:49,130通过git提交自动评分机。Submit auto grader via git.119600:58:49,130 --> 00:58:50,535如果您通过-If you make it through--119700:58:50,535 --> 00:58:51,410我再改一下。let me rephrase that.119800:58:51,410 --> 00:58:57,620当您通过“作业零”达到目标时，When you make itthrough Homework Zero,119900:58:57,620 --> 00:59:02,130你实际上会开始了you will actuallyhave launched yourself120000:59:02,130 --> 00:59:06,460准备162的路程。on the path towardsbeing ready for 162.120100:59:06,460 --> 00:59:10,200现在，这个零作业的一部分是Now, part of thisHomework Zero is120200:59:10,200 --> 00:59:15,050回想一下如何用C编程。现在，我recalling how toprogram in C. Now, I120300:59:15,050 --> 00:59:18,230意识到C没有被强调太多realize that C doesn'thave a lot of emphasis120400:59:18,230 --> 00:59:20,870就像以前一样，尽管在61C中in 61C, as it used to,even though there's120500:59:20,870 --> 00:59:23,420标题中有C。a C in the title.120600:59:23,420 --> 00:59:25,160就像我说的，实际上So like I said,there's actually going120700:59:25,160 --> 00:59:30,370在星期五。to be sections, on Friday.120800:59:30,370 --> 00:59:33,760到目前为止尚未分配的这个星期五和下一个星期五，This Friday, next Friday,which are unassigned so far,120900:59:33,760 --> 00:59:35,740这样您就可以参加想要的任何部分。so you could attendany section you want.121000:59:35,740 --> 00:59:39,550从星期五开始一周之后，我们将分配部分After a week from Friday,we're going to assign sections121100:59:39,550 --> 00:59:41,870根据您的小组。based on your groups.121200:59:41,870 --> 00:59:44,440因此，您的所有小组都需要在同一部分开会，So all of your group needs tobe meeting in the same section,121300:59:44,440 --> 00:59:46,790或至少具有相同的TA。or at least with the same TA.121400:59:46,790 --> 00:59:50,052但是直到那时，在头两个星期，But until then, forthe first two weeks,121500:59:50,052 --> 00:59:51,010您将要去-you're going to go to--121600:59:51,010 --> 00:59:52,870我会去您选择的星期五部分，I would go to the Fridaysection of your choice,121700:59:52,870 --> 00:59:54,245因为我们要讨论because we'regoing to be talking121800:59:54,245 --> 00:59:57,300关于C之类的东西，好吗？about things like C, okay?121900:59:57,300 --> 00:59:59,350我们将帮助您提醒该工具We're going to be helpingremind you of the tool122000:59:59,350 --> 01:00:01,450设置您必须使用的。set you've got to use.122101:00:01,450 --> 01:00:04,420因此，与大多数部分不同，So these are kind of,unlike most of the sections,122201:00:04,420 --> 01:00:07,180也许，您在这里运行，这些实际上是有用的部分。maybe, you run in here, theseare actually useful sections.122301:00:07,180 --> 01:00:08,980我该怎么做事情？How do I do stuff?122401:00:08,980 --> 01:00:10,180我开玩笑，当然。I'm kidding, of course.122501:00:10,180 --> 01:00:14,000但这很重要的原因But the reason thisis very important,122601:00:14,000 --> 01:00:16,780我想提前说一下，请and I want to say thisupfront, and please122701:00:16,780 --> 01:00:21,280告诉由于某种原因今天不在这里的同学，tell your classmates who aren'there today for some reason,122801:00:21,280 --> 01:00:23,830这个班有一个提前退学的截止日期，there is an early dropdeadline in this class, which122901:00:23,830 --> 01:00:26,200离星期五一个星期。is a week from Friday.123001:00:26,200 --> 01:00:31,330因此，在31号，您要做出决定So on the 31st, you getto make your decision123101:00:31,330 --> 01:00:35,120关于您是上课还是退课。about whether you're out or in.123201:00:35,120 --> 01:00:39,080而且因为在等待名单上有人And since there arepeople on the wait list123301:00:39,080 --> 01:00:40,940谁想要进入这里，然后人们who want to get inhere, and then people123401:00:40,940 --> 01:00:43,790在并行选课名单上那些人想要on the concurrent enrollmentlist who really want123501:00:43,790 --> 01:00:47,180希望等待列表消失，如果您实际上是to hope that the wait listgoes away, if you're actually123601:00:47,180 --> 01:00:50,390以为你不想上这堂课，thinking you don't wantto take this class,123701:00:50,390 --> 01:00:54,500请及早退课，以便其他人可以进入。please drop early, just sothat other people can get in.123801:00:54,500 --> 01:00:57,090我想带上所有人，I'd like to take everybodyI possibly could,123901:00:57,090 --> 01:00:58,860但是房间有一定的尺寸，but the room has gota certain size to it,124001:00:58,860 --> 01:01:00,735我们有那么多的助教，我们做不到。and we've got so manyTAs, and we just can't.124101:01:03,400 --> 01:01:06,680但是从周五开始的一周，您可以决定是否全神贯注，But on week from Friday, youget to decide if you're all in,124201:01:06,680 --> 01:01:08,580然后，您全神贯注。and then, you're all in.124301:01:08,580 --> 01:01:13,240它将很棒，因为这是一个很棒的课程。And it'll be great, becausethis is an awesome class.124401:01:13,240 --> 01:01:16,310如果您在候补名单或并发注册中，If you're on the wait listor concurrent enrollment,124501:01:16,310 --> 01:01:20,080我们已经屏蔽了TA支持中的各个部分。we've masked out thesections in the TA support.124601:01:20,080 --> 01:01:23,380班级人数有可能增加There is some possibility theclass size maybe increase-able124701:01:23,380 --> 01:01:26,810一点点，但不是很多。a little bit, but not by much.124801:01:26,810 --> 01:01:29,260不幸的是，这里有人吗And unfortunately,is there anybody here124901:01:29,260 --> 01:01:32,360谁是同时报名的人？who is a concurrentenrollment person?125001:01:32,360 --> 01:01:33,020你们几个Couple of you.125101:01:36,570 --> 01:01:39,120好吧，你处于队尾Well, you're at the low--125201:01:39,120 --> 01:01:40,440在等待列表之后。after the wait list.125301:01:40,440 --> 01:01:42,810所以我不知道这是如何工作的。So I don't know how this works.125401:01:42,810 --> 01:01:46,290如果您愿意的话，坚持下去或许会不错。Sticking it out might not bebad, if you're willing to.125501:01:46,290 --> 01:01:49,390不过，我无法保证您能选上。I can't make any guaranteesthat you're in, though.125601:01:49,390 --> 01:01:49,890好的。Okay.125701:01:49,890 --> 01:01:51,620还有其他问题吗？Are there any other questions?125801:01:51,620 --> 01:01:54,150事实上，Alex，我们要做的是将...In fact, Alex, what we'lldo is we'll put the--125901:01:54,150 --> 01:01:56,300我会寄给您同时入学的学生I'll send you the concurrentenrollment students126001:01:56,300 --> 01:01:58,860以便至少可以将它们放入系统中。so that you can put themin the system, at least.126101:01:58,860 --> 01:02:01,193因此，我们将确保如果您要同时注册，So we'll make sure that ifyou're concurrent enrollment,126201:02:01,193 --> 01:02:02,940您至少可以做“零作业”。you can at leastdo Homework Zero.126301:02:05,610 --> 01:02:07,620好的，有操作上的问题吗？All right, are there anyoperational questions?126401:02:11,404 --> 01:02:13,769没有？No?126501:02:13,769 --> 01:02:15,670好的。Okay.126601:02:15,670 --> 01:02:27,960因此，C是一种很棒的语言，可以用来编写操作系统，So C is a great language forwriting operating systems in,126701:02:27,960 --> 01:02:30,420不管你听到什么regardless of whatyou might have heard,126801:02:30,420 --> 01:02:33,060至少是很多操作系统it's at least a language thata lot of operating systems126901:02:33,060 --> 01:02:33,780是用这门语言写成的。are written in.127001:02:33,780 --> 01:02:36,780我愿意讲那么多。I'm willing to go that far.127101:02:36,780 --> 01:02:38,340但这是一种非常低级的语言，But it's a reallylow level language,127201:02:38,340 --> 01:02:39,715你们当中的人不多and it's not onethat many of you127301:02:39,715 --> 01:02:43,780有这个级别的经验。have experiencewith at this level.127401:02:43,780 --> 01:02:46,950像指针，内存管理之类的东西So things like pointers,memory management127501:02:46,950 --> 01:02:48,690使用malloc和free，堆栈等。with malloc free,stack, et cetera.127601:02:48,690 --> 01:02:50,230使用GDB进行调试。Debugging with GDB.127701:02:50,230 --> 01:02:52,110这些东西，如果你是These are thingsthat, if you are127801:02:52,110 --> 01:02:55,150愿意在头两个星期里花些时间，willing to put in the timein these first two weeks,127901:02:55,150 --> 01:02:58,480它将在整个学期带来好处。it will pay dividendsthe whole term.128001:02:58,480 --> 01:03:00,503我见过 -I have seen--128101:03:00,503 --> 01:03:01,920我已经教过这门课很多次I've taught thisclass many times,128201:03:01,920 --> 01:03:04,010我见过尝试做到这一点的人I've seen peoplewho try to make it128301:03:04,010 --> 01:03:06,510从头到尾都没有真正学习过all the way through the classwithout ever actually learning128401:03:06,510 --> 01:03:14,920如何写C。这对每个参与人员来说都是痛苦的。how to write C. And this ispainful for everybody involved.128501:03:14,920 --> 01:03:17,880因此，我不建议这样做。And so I don't recommend it.128601:03:17,880 --> 01:03:21,930您将要处理更大，更复杂的代码库You're going to be working on alarger, more sophisticated code128701:03:21,930 --> 01:03:24,220比你所见过的任何东西都复杂。base than anything you've seen.128801:03:24,220 --> 01:03:28,440不要让那吓到你，因为大型代码库Don't let that scare you,because big code bases are128901:03:28,440 --> 01:03:29,940经验法则the rule of thumbfor what you're129001:03:29,940 --> 01:03:32,100你们将来要去做，going to do in yourfuture, they're129101:03:32,100 --> 01:03:34,710假设它们是编写良好的代码，则所有代码都组织得当all organized properly, assumingthey're well-written code129201:03:34,710 --> 01:03:35,230代码库。bases.129301:03:35,230 --> 01:03:39,710因此，这与大小无关，而与您的处理方式有关So it's not about the size, asit is about how you approach it129401:03:39,710 --> 01:03:41,750以及如何找到抽象and how do you findthe abstractions,129501:03:41,750 --> 01:03:45,260以及如何找到了解高级知识的部分。and how do you find the partsto understand the high level.129601:03:45,260 --> 01:03:48,200我相信这真的是一项技能This is really askill that I believe129701:03:48,200 --> 01:03:51,380几乎任何愿意花时间的人，pretty much anybody, who iswilling to put in the time,129801:03:51,380 --> 01:03:54,110可以弄清楚如何解析诸如操作can figure out how to parsesomething like an operating129901:03:54,110 --> 01:03:56,640系统，这是我们在本课程中学到的一部分。system, and that's part ofwhat we learn in this class.130001:03:56,640 --> 01:03:58,370但是如果你不懂语言，But if you don'tunderstand the language,130101:03:58,370 --> 01:04:00,460你会遇到麻烦的。you're going to be in trouble.130201:04:00,460 --> 01:04:02,190只是，这将很难。It's just, it'sgoing to be hard.130301:04:02,190 --> 01:04:06,390因此，除了这两部分之外，And so in additionto the two sections,130401:04:06,390 --> 01:04:11,320下周一，我们还将在C上进行复习课。we also have a reviewsession on C next Monday.130501:04:11,320 --> 01:04:12,790因此，这将令人兴奋。So this will be exciting.130601:04:12,790 --> 01:04:14,570你可以去那里，可以问问题，You can go there, youcan ask questions,130701:04:14,570 --> 01:04:17,980您可以看到您的一个助教展示了C的乐趣you can see one of your TAspresenting the joys of C130801:04:17,980 --> 01:04:20,020作为一种编程语言。as a language.130901:04:20,020 --> 01:04:22,760希望在两周结束后，我们一切顺利，And hopefully, by the end ofthe two weeks, we're good to go,131001:04:22,760 --> 01:04:24,850现在我们可以了解真正的东西了。and now we can getinto the real stuff.131101:04:24,850 --> 01:04:29,590所以作业零真的是一件好事So Homework Zerois really something131201:04:29,590 --> 01:04:32,230我会继续下去，而我们that I would getgoing on, and we131301:04:32,230 --> 01:04:34,390有专门的助教资源，等等have TA resourcesdevoted to it, et cetera,131401:04:34,390 --> 01:04:35,850只是为了让您快速上手。just to get you up to speed.131501:04:35,850 --> 01:04:41,090课程网站上有一个资源页面，There is a resources pageon the course website,131601:04:41,090 --> 01:04:45,660实际上有关于Git和C的电子书，您可以使用。which actually has ebooks onGit and C, which you can use.131701:04:45,660 --> 01:04:49,910还有这个beta C编程参考，There's also this betaC programming reference,131801:04:49,910 --> 01:04:54,650也可以称为梯子called Ladder, whichis available as well,131901:04:54,650 --> 01:04:56,750为我们提供帮助。for us to help you along.132001:04:56,750 --> 01:04:58,940前两个部分是专用的。And the first twosections are dedicated.132101:04:58,940 --> 01:05:01,225好吧，我听起来我很困惑。Okay, I sound like I'mbelaboring the point.132201:05:01,225 --> 01:05:02,600但是我只想让你上手，But I just wantyou to get going,132301:05:02,600 --> 01:05:06,070这样我们就可以继续学习重要内容。so that we can get onto the important stuff.132401:05:06,070 --> 01:05:10,090学习另一种语言，编程语言，Learning another language,programming language,132501:05:10,090 --> 01:05:12,960你们所有人都做了几次something that all of youhave done a couple of times,132601:05:12,960 --> 01:05:13,960不同的语言。the different languages.132701:05:13,960 --> 01:05:16,130我相信您也可以在这里完成。I believe you cando it here, too.132801:05:16,130 --> 01:05:19,940因此，将此视为有趣的挑战，而不是什么So treat this as a challengethat's fun, not something132901:05:19,940 --> 01:05:23,000担心，好吗？to be worried about, okay?133001:05:23,000 --> 01:05:24,050任何问题？Any questions?133101:05:27,510 --> 01:05:29,440分号是您的朋友。The semicolon is your friend.133201:05:32,940 --> 01:05:36,150我们在这里进行评分，暂时分解，We are grading,tentative breakdown here,133301:05:36,150 --> 01:05:40,320大约是中期的36％，项目的36％，作业的8％is about 36% midterms,36% projects, 8% homework,133401:05:40,320 --> 01:05:42,84010％的参与度，例如部分10% participation, whichare things like sections133501:05:42,840 --> 01:05:45,360和讲座等等。and lecture and so on.133601:05:45,360 --> 01:05:46,350没有期末考试。No final exam.133701:05:51,690 --> 01:05:56,870但是，三个中期，好吗？But, three midterms, okay?133801:05:56,870 --> 01:05:59,603呜！So woo!133901:06:04,160 --> 01:06:04,760行。All right.134001:06:04,760 --> 01:06:08,520中期，我仍在努力找到教室，The midterms, I'm stilltrying to get the classrooms,134101:06:08,520 --> 01:06:12,350但暂时来说，它们的范围是7:00至9:00 PM。but tentatively, they're inthe 7:00 to 9:00 PM range.134201:06:12,350 --> 01:06:16,640这是因为伯克利有一些不可思议的规则This is because Berkeley hassome arcane rules about not134301:06:16,640 --> 01:06:18,800不能分配教室，直到being able to assignclassrooms until after134401:06:18,800 --> 01:06:21,620第三到第五周之后，我确切地忘记了那是什么，the third to fifth week, Iforget exactly what it is,134501:06:21,620 --> 01:06:23,2707:00之前的任何时间。for anything earlier than 7:00.134601:06:23,270 --> 01:06:26,960因此，我最好的开始是找到7:00到9:00。So the best I can start withis to find 7:00 to 9:00.134701:06:26,960 --> 01:06:31,753我会尝试，也许不是第一个，I will try to, probablynot for the first one,134801:06:31,753 --> 01:06:33,170但对于后两个，我会尝试but for the secondtwo, I will try134901:06:33,170 --> 01:06:36,290也许进入我们的时间段，to maybe move intoour time slot,135001:06:36,290 --> 01:06:39,950因此，如果我们可以在5:00到7:00期间做某事，so if we could do a 5:00 to7:00 midterm or something,135101:06:39,950 --> 01:06:42,600可能效果最好。that probably would work best.135201:06:42,600 --> 01:06:45,860有多少人认为这是个好主意？How many people thinkthat's a good idea?135301:06:45,860 --> 01:06:47,350好的。Okay.135401:06:47,350 --> 01:06:48,740因此，我们将看到我们能做什么。So we'll see what we can do.135501:06:48,740 --> 01:06:51,160显然，会有重叠和冲突And obviously, there willbe overlaps and conflicts135601:06:51,160 --> 01:06:54,580和东西，但是，好的。and stuff but, okay.135701:06:54,580 --> 01:06:59,740因此，我无需提及有行为准则。So I don't need to mentionthat there is an honor code.135801:06:59,740 --> 01:07:01,660因此，作为加州大学伯克利分校的成员，So as member of theUC Berkeley community,135901:07:01,660 --> 01:07:05,380我以诚实，正直和尊重他人的态度行事。I act with honesty, integrity,and respect for others.136001:07:05,380 --> 01:07:10,520我以为我会向您展示精美印刷品，我们会运行工具-I thought I would show you thefine print, we do run tools--136101:07:10,520 --> 01:07:17,068不幸的是，人们陷入了这样的事情and unfortunately, people getcaught up in things like that136201:07:17,068 --> 01:07:17,860时不时地every now and then.136301:07:17,860 --> 01:07:20,770我想说的就是自己做。I would say, justdo your own work.136401:07:20,770 --> 01:07:23,410所以向另一个小组的人解释一个概念，So explaining a concept tosomebody in another group,136501:07:23,410 --> 01:07:26,170讨论算法或测试策略，discussing algorithmsor testing strategies,136601:07:26,170 --> 01:07:29,320帮助调试另一组中的其他人的代码，helping debug somebodyelse's code in another group,136701:07:29,320 --> 01:07:32,770在网上搜索通用算法，searching online forgeneric algorithms,136801:07:32,770 --> 01:07:35,380这些事情可能还好，因为它们不these things are probablyokay, because they're not136901:07:35,380 --> 01:07:39,730直接做别人的项目directly doing theother person's project,137001:07:39,730 --> 01:07:40,960或使用他们的代码。or using their code.137101:07:40,960 --> 01:07:42,790不一样的事情就像分享Things that arenot is like sharing137201:07:42,790 --> 01:07:45,490实际代码或测试用例。actual code, or test cases.137301:07:45,490 --> 01:07:48,160好吧，复制或阅读另一个小组的代码，Okay, copying or readinganother group's code,137401:07:48,160 --> 01:07:51,070好吧，那可能不好。okay, that's probably not good.137501:07:51,070 --> 01:07:53,110复制或阅读在线代码。Copying or reading online codes.137601:07:53,110 --> 01:07:58,430因此，如果您搜索并找到代码，就不要这样做，好吗？So if you search and findcode, just don't do it, okay?137701:07:58,430 --> 01:08:01,270只是不要这样做。Just don't do it.137801:08:01,270 --> 01:08:04,930这很诱人，但这只会使您陷入困境，It's very tempting, butit'll just get you caught up,137901:08:04,930 --> 01:08:07,650相信我，这是不值得的麻烦。and it won't be worththe trouble, believe me.138001:08:07,650 --> 01:08:08,730只是不值得。It's just not worth it.138101:08:11,963 --> 01:08:13,380我们会比较项目提交的内容And we compareproject submissions138201:08:13,380 --> 01:08:16,645与以前的年份和在线解决方案等相对比，against prior years and onlinesolutions and so on, so--138301:08:16,645 --> 01:08:18,270好吧，我告诉你一点All right, let metell you a little bit138401:08:18,270 --> 01:08:20,710关于本课程的典型授课形式。about the typical lectureformat for this class.138501:08:20,710 --> 01:08:23,229因此，本次讲座与正常情况完全不同。So this lecture is completelydifferent than normal.138601:08:23,229 --> 01:08:25,680但是让我告诉你-让我看看But let me tell youthis-- let's see if I138701:08:25,680 --> 01:08:27,660可以在这里找到我的小笔。can find my little pen, here.138801:08:27,660 --> 01:08:33,020那么，我用笔怎么办？So, what did I do with my pen?138901:08:33,020 --> 01:08:34,520哦，是的。Oh, there it is.139001:08:34,520 --> 01:08:39,620因此，典型的演讲格式如下。So, the typical lectureformat is the following.139101:08:39,620 --> 01:08:42,460所以几年前，我们实际上有人知道一点So years ago, we actually hadsomebody who knew something139201:08:42,460 --> 01:08:46,779人们如何学习，他们来听about how people learned,and they came and listened139301:08:46,779 --> 01:08:47,500我们的课。to our classes.139401:08:47,500 --> 01:08:49,600他们发现的是第一件事And what they foundwas the first thing139501:08:49,600 --> 01:08:52,510所有的老师所做的就是that all of thefaculty did was they139601:08:52,510 --> 01:08:56,770花了前15分钟谈论spent the first 15 minutestalking about organization139701:08:56,770 --> 01:08:57,399课程的组织。of the class.139801:08:57,399 --> 01:09:00,490好吧，下周二，我们要进行一个期中考试，Well, next Tuesday, we'regoing to have a midterm,139901:09:00,490 --> 01:09:04,359将会学习，这个星期五之后，there'll be studying, andthis following Friday,140001:09:04,359 --> 01:09:05,979和作业五到期。and homework five is due.140101:09:05,979 --> 01:09:10,060实际上，他们所说的是，And instead, really,what they said is,140201:09:10,060 --> 01:09:13,130这是人们通常在课堂上表现的方式。here's the way peopletypically act in a class.140301:09:13,130 --> 01:09:15,609他们开始非常重视，They start withvery high attention,140401:09:15,609 --> 01:09:20,465因为你们进来，你们都很兴奋，这是一门新课，because you guys come in, you'reall excited, it's a new class,140501:09:20,465 --> 01:09:21,590这不是很棒吗？wouldn't this be wonderful?140601:09:21,590 --> 01:09:25,870然后大约20分钟，And what happens is peoplego for about 20 minutes,140701:09:25,870 --> 01:09:28,060然后，当然发生的是您的注意力and then, of course, whathappens is your attention140801:09:28,060 --> 01:09:30,189开始标记一点。starts flagging a little.140901:09:30,189 --> 01:09:30,892行？All right?141001:09:30,892 --> 01:09:32,350所以我们通常要做的是So what we're goingto typically do141101:09:32,350 --> 01:09:34,642是我们休息一下，在那儿谈论一些事情is we'll take a break, wherewe'll talk about something141201:09:34,642 --> 01:09:37,330有趣的事情发生在新闻或类似的事情上。interesting that happened inthe news or something like that.141301:09:37,330 --> 01:09:40,720通常，这会使您再次恢复正常，对吗？And usually, that bringsyou back up again, right?141401:09:40,720 --> 01:09:49,140因此，您听了一段时间，然后发生了这种情况。And so then, you go for a while,and then that kind of happens.141501:09:49,140 --> 01:09:52,790所以实际上，我们要做的就是让您醒来And so actually, what we dothen is we let you get up141601:09:52,790 --> 01:09:54,590站起来走走，也许and stand up andwalk around, maybe141701:09:54,590 --> 01:09:56,900出去喝水或其他。go out to get a drinkof water or whatever.141801:09:56,900 --> 01:10:00,020当然，这会有所帮助。And of course, thathelps a little.141901:10:00,020 --> 01:10:02,523然后我们继续，是这样一件事。And then we go, andhere's the thing.142001:10:02,523 --> 01:10:04,940您会看到时间将近结束，You'll see that it's gettingclose to the end of the hour,142101:10:04,940 --> 01:10:06,420但您必须等待。but you've got to wait for it.142201:10:06,420 --> 01:10:10,490因为会发生的是，所以你Because what willhappen is yes, you're142301:10:10,490 --> 01:10:12,950走神儿，但请稍候，因为我会说，flagging, but wait forit, because I'll say,142401:10:12,950 --> 01:10:21,342“总结一下”，在这一点上，"in conclusion,"and at that point,142501:10:21,342 --> 01:10:23,800等待足够长的时间让我简要概述一下wait for long enough for me togive a quick summary of what142601:10:23,800 --> 01:10:27,330我做到了，您可以引起很大的关注I did, and you can takethat big spike in attention142701:10:27,330 --> 01:10:29,080并带走一些有趣的东西and walk away withsome interesting things142801:10:29,080 --> 01:10:30,160总结的东西。to summarize.142901:10:30,160 --> 01:10:34,450然后，当然，您可以离开教室。And then, of course, you getto go out of the classroom.143001:10:34,450 --> 01:10:36,783所以这就是我要做的。So that's kind ofwhat I'm going to do.143101:10:36,783 --> 01:10:38,950所以我尝试将事物分成三部分，So I try to divide thingsup into like three pieces,143201:10:38,950 --> 01:10:40,990今天是一个例外，但这是一种today is an exception,but it's kind143301:10:40,990 --> 01:10:43,120就像之间的休息，of like with thebreak in between,143401:10:43,120 --> 01:10:48,610只是为了给您更好的关注范围。just to give you a little bitof a better attention span.143501:10:48,610 --> 01:10:52,770这就像分钟回顾，20分钟演讲等等。So it's like minute review,20 minute lecture, et cetera.143601:10:52,770 --> 01:10:55,578现在，目标当然是交互式的。Now, the goal is, ofcourse, interactive.143701:10:55,578 --> 01:10:57,620再说一次，这是一次特别的演讲，但是我想-So again, this is a speciallecture, but I want--143801:10:57,620 --> 01:10:59,120我喜欢提问。I love to have questions.143901:10:59,120 --> 01:11:01,620如果人们问我问题，事情会变得更加有趣。Things are much more interestingif people ask me questions,144001:11:01,620 --> 01:11:03,037我可以回答问题，我们可以看到I can answerquestions, we can see144101:11:03,037 --> 01:11:04,710大家都到哪一步了，给我一种方法where the classis, gives me a way144201:11:04,710 --> 01:11:09,520了解你们在想什么。to understand the heartbeatof what you guys are thinking.144301:11:09,520 --> 01:11:13,380因此，请提出问题，好吗？And so please, askquestions, all right?144401:11:13,380 --> 01:11:14,880那就是我在这里的目的，好吗？That's what I'mhere for, all right?144501:11:14,880 --> 01:11:16,860这都是关于学习的。This is all about learning.144601:11:16,860 --> 01:11:21,180大概，您的问题通常会更有趣And presumably, your questionsare often much more interesting144701:11:21,180 --> 01:11:23,010比我能说的要多。than something I could say.144801:11:23,010 --> 01:11:25,650但是我的回答是，它们将会很棒。But my answers, they'regoing to be great.144901:11:25,650 --> 01:11:29,760因此，我们前面谈到了什么是操作系统。So we talked earlier aboutwhat an operating system is.145001:11:29,760 --> 01:11:33,630因此，我们谈到了裁判，幻术师和胶水碎片。So we talked about the referee,illusionists, and glue pieces.145101:11:33,630 --> 01:11:36,600裁判正在管理资源，幻术师Referee is managingresources, illusionist145201:11:36,600 --> 01:11:38,160给你干净的抽象is giving youclean abstractions,145301:11:38,160 --> 01:11:39,300虚拟抽象。virtual abstractions.145401:11:39,300 --> 01:11:41,280胶水是常见的服务。And glue is common services.145501:11:41,280 --> 01:11:43,620所有这三件事通常都是All three of thesethings are typically145601:11:43,620 --> 01:11:45,900在您所使用的操作系统中in an operatingsystem that you're145701:11:45,900 --> 01:11:49,200可能会在笔记本电脑上甚至在手机上运行。likely to run on a laptop,or even on a cell phone.145801:11:49,200 --> 01:11:51,540当您开始进入那些有趣的小物联网时When you start getting intothose interesting little IoT145901:11:51,540 --> 01:11:52,932诸如此类的设备devices, like that--146001:11:52,932 --> 01:11:55,140我有点提到温度传感器的想法，I kind of mentioned the ideaof a temperature sensor,146101:11:55,140 --> 01:11:59,580或墙上的摄像机或类似的东西，or a video camera that's in thewall or something like that,146201:11:59,580 --> 01:12:02,340并非所有这些功能都存在，好吗？not all of these functionsmay be there, okay?146301:12:02,340 --> 01:12:04,110因此，如果它是一个小设备，那就是So if it's a littledevice, that's146401:12:04,110 --> 01:12:08,460可能只有一个用户在上面运行，likely to have onlyone user running on it,146501:12:08,460 --> 01:12:15,220则可能不需要裁判保护您。then maybe there is no needfor a referee to protect you.146601:12:15,220 --> 01:12:16,950但是也许，如果有两件事正在运行，But maybe, if there'stwo things running,146701:12:16,950 --> 01:12:19,110也许需要良好的资源分配maybe there's a need forgood resource allocation146801:12:19,110 --> 01:12:21,690达到服务质量保证。to meet quality ofservice guarantees.146901:12:21,690 --> 01:12:23,790这样您就可以混合搭配其中的一些作品，And so you can mix andmatch some of these pieces,147001:12:23,790 --> 01:12:26,050或在进入小型设备时将它们子集化。or subset them as youget into little devices.147101:12:26,050 --> 01:12:28,140我们会谈，随着我们的前进，我们将And we'll talk, aswe go along, we'll147201:12:28,140 --> 01:12:31,770谈论何时这些碎片可能在某物上talk about when thesepieces might be in something147301:12:31,770 --> 01:12:34,710而当他们可能不这样做时。and when they might not.147401:12:34,710 --> 01:12:37,050挑战始终是复杂性。The challenge isalways complexity.147501:12:37,050 --> 01:12:41,010因此，应用程序由各种软件模块组成So applications consisting ofa variety of software modules147601:12:41,010 --> 01:12:42,690耗尽各种设备that run out avariety of devices147701:12:42,690 --> 01:12:44,690这些设备由不同的硬件架构实现，that implement differenthardware architectures,147801:12:44,690 --> 01:12:46,830运行完全竞争的应用程序，run completelycompeting applications,147901:12:46,830 --> 01:12:50,920以意外的方式出错，可能会受到各种攻击。fail in unexpected ways, canbe under a variety of attacks.148001:12:50,920 --> 01:12:56,330这些都是增加复杂性的事物。These are all thingsthat add complexity.148101:12:56,330 --> 01:12:59,450因此，我们一直在不断尝试找出And so all we're constantlytrying to figure out148201:12:59,450 --> 01:13:01,460如何减少复杂性。how to trim the complexity.148301:13:01,460 --> 01:13:06,110这就像连续不断地削减功能。This is like a continuoushaircut of functionality.148401:13:06,110 --> 01:13:08,900您可以想象，我对理发有所了解，And you can imagine, I knowsomething about haircuts,148501:13:08,900 --> 01:13:10,130对？right?148601:13:10,130 --> 01:13:14,690所以近年来的确无法做到测试So it's really not feasiblethese days to even test148701:13:14,690 --> 01:13:16,670适用于所有可能环境的软件software for allpossible environments148801:13:16,670 --> 01:13:18,740以及组件的组合。and combinations of components.148901:13:18,740 --> 01:13:21,290太复杂了，这个概念There is so muchcomplexity that the notion149001:13:21,290 --> 01:13:25,180您可以以某种方式测试每个出错that you could somehowtest for every failure149101:13:25,180 --> 01:13:28,355就在桌子旁边。is just off the table.149201:13:28,355 --> 01:13:29,230它太复杂了。It's too complicated.149301:13:29,230 --> 01:13:32,710现在，模型中有很多非常有趣的工作Now, there's a lot of reallyinteresting work in model149401:13:32,710 --> 01:13:34,160驱动软件开发。driven software development.149501:13:34,160 --> 01:13:36,400还有很多这些东西，实际上And a lot of thesethings, where it's really149601:13:36,400 --> 01:13:40,210关于第一次正确设计。about designing correctlythe first time around.149701:13:40,210 --> 01:13:42,160我们将尝试解决这个问题，好吗？And we're going to tryto approach that, okay?149801:13:42,160 --> 01:13:45,640我们将尝试了解如何We're going to tryto understand how149901:13:45,640 --> 01:13:48,550在操作系统中设计软件to design your softwarein the operating system150001:13:48,550 --> 01:13:51,265在某种程度上不是关于是否存在问题的方式context in a way where it's nota question about whether there150101:13:51,265 --> 01:13:52,900是错误，因为很明显，are bugs, becauseobviously, there are,150201:13:52,900 --> 01:13:55,900但是这些错误有多严重？but how serious are the bugs?150301:13:55,900 --> 01:13:59,680您希望剩下的错误不那么严重。And you'd like for the bugs thatare left to be not as serious.150401:13:59,680 --> 01:14:01,170或者，如果您认为某事是Or, if you thinkthat something's150501:14:01,170 --> 01:14:04,000会有很多错误，开始谈论很有趣going have a lot of bugs, it'sinteresting to start talking150601:14:04,000 --> 01:14:05,890关于，我们可以容器化吗？about, can we containerized?150701:14:05,890 --> 01:14:07,690我们可以把虚拟机放在一块吗Can we put a virtualmachine around a piece150801:14:07,690 --> 01:14:09,820有缺陷的软件或可疑软件of buggy softwareor suspect software150901:14:09,820 --> 01:14:12,760来自一个恶意的人吗？from a maliciousperson out there?151001:14:12,760 --> 01:14:14,900我们也可以开始容器化东西，We can start containerizingthings as well,151101:14:14,900 --> 01:14:17,860我们将继续讨论。and we'll talk moreabout that as we go.151201:14:17,860 --> 01:14:21,260因此，正如我前面提到的，世界是平行的。So the world, as I mentionedearlier, is parallel.151301:14:21,260 --> 01:14:23,710所以在2017年，我拿了这个图So this, in 2017, Igrabbed this figure151401:14:23,710 --> 01:14:25,630只是因为当时很容易获得。just because it waseasy to get at the time.151501:14:25,630 --> 01:14:29,320但是现在是三年前。But here is threeyears ago, now.151601:14:29,320 --> 01:14:33,38028个内核，一个芯片上有58个线程。28 cores, 58 threads on a chip.151701:14:33,380 --> 01:14:37,745想象一下，您将一堆这些芯片放入了架子。And imagine you put a bunchof these chips into a rack.151801:14:37,745 --> 01:14:40,120然后将一堆架子放入仓库规模的云中And you put a bunch of racksinto a warehouse scale cloud151901:14:40,120 --> 01:14:41,290系统。system.152001:14:41,290 --> 01:14:45,190神圣的托莱多，有很多线索。Holy Toledo, thereis a lot of threads.152101:14:45,190 --> 01:14:47,200有很多东西同时运行There are a lot of thingsrunning simultaneously152201:14:47,200 --> 01:14:51,010您必须以某种方式进行控制，好吗？that you've got tosomehow control, okay?152301:14:51,010 --> 01:14:53,620而且有很多不同的安全指令集And there are lots of differentinstruction sets for security152401:14:53,620 --> 01:14:54,700和图形等等。and graphics, et cetera.152501:14:54,700 --> 01:14:56,250有很多缓存。There's many caches.152601:14:56,250 --> 01:15:01,340有片上网络，片外接口，DRAM等There is on chip networks,off chip interfaces, DRAM, et152701:15:01,340 --> 01:15:01,840等等cetera.152801:15:01,840 --> 01:15:03,130所有这些复杂性。All of this complexity.152901:15:03,130 --> 01:15:07,210因此，您可以，选项A，尖叫到另一个房间，So you could, A, runscreaming into the other room,153001:15:07,210 --> 01:15:08,710因为太复杂了because there's toomuch complexity,153101:15:08,710 --> 01:15:10,252或选项B，您可能会说，这不是很酷吗？or B, you could say,isn't this cool?153201:15:10,252 --> 01:15:12,490让我们弄清楚如何处理复杂性。Let's figure out howto tame the complexity.153301:15:12,490 --> 01:15:15,455我们将讨论驯服。We're going totalk about taming.153401:15:15,455 --> 01:15:17,080所以另一件事，如果你真的So another thingthat, if you're really153501:15:17,080 --> 01:15:19,900对深度设备驱动程序感兴趣interested in thedeep device driver153601:15:19,900 --> 01:15:21,863操作系统方面，我们aspect of operatingsystems, we're153701:15:21,863 --> 01:15:23,030只会涉及到这一点。only going to touch on that.153801:15:23,030 --> 01:15:27,210但是我会说处理器，尽管But I will say that theprocessor, despite what153901:15:27,210 --> 01:15:30,330您可能在61C中学到了，这并不是真正有趣的部分。you might learned in 61C, isn'treally the interesting part.154001:15:30,330 --> 01:15:32,940现在，我是计算机架构师，而且我喜欢处理器。Now, I'm a computer architect,and I love processors.154101:15:32,940 --> 01:15:36,000看这个有趣得多，看这张图吗？It's far more interesting tolook at this, see this diagram?154201:15:36,000 --> 01:15:38,730我们通常有处理器，它具有较高的通道We typically have the processor,which has some high channel154301:15:38,730 --> 01:15:42,240DRAM和一些图形，但是随后DRAMs and somegraphics, but then there154401:15:42,240 --> 01:15:47,420是数字媒体界面，仅此而已is a digital media interfacedown to this other thing, which154501:15:47,420 --> 01:15:52,940实际上拥有所有有趣的东西，很多IO设备。actually has all the interestingstuff, lots of IO devices.154601:15:52,940 --> 01:15:57,860音频和存储以及USB驱动程序Audio and storageand USB drivers154701:15:57,860 --> 01:16:00,500去了解您所有有趣的东西，等等。to go off to all yourinteresting stuff and so on.154801:16:00,500 --> 01:16:02,840所有这些都不在最底层。All of that goes offthis bottom chip.154901:16:02,840 --> 01:16:04,340那是有趣的事情，对吗？That's the interestingthing, right?155001:16:04,340 --> 01:16:07,280这个系统如何与世界互动？How does this systeminteract with the world?155101:16:07,280 --> 01:16:08,330那是最底层的芯片。That's the bottom chip.155201:16:08,330 --> 01:16:09,800如果你是And that's actuallysomething, if you're155301:16:09,800 --> 01:16:11,600对设备驱动程序非常感兴趣，这变得非常漂亮really interested in devicedrivers, that gets pretty155401:16:11,600 --> 01:16:12,830有趣，很快。interesting, pretty quickly.155501:16:12,830 --> 01:16:15,790而且也很复杂。And pretty complicated, too.155601:16:15,790 --> 01:16:18,880所以另一件事是您可以访问该网站So the other thing is youcan go to this website, which155701:16:18,880 --> 01:16:21,190我有点喜欢不时地做。I kind of like to doevery now and then.155801:16:21,190 --> 01:16:23,680Informationisbeautiful.net，可视化，Informationisbeautiful.net,visualizations,155901:16:23,680 --> 01:16:25,210万行代码。million lines of code.156001:16:25,210 --> 01:16:29,350这向您展示了软件的复杂性And this shows you how muchcomplexity there is in software156101:16:29,350 --> 01:16:30,590这些日子。these days.156201:16:30,590 --> 01:16:35,750而且，如果您看一下，Linux II内核就在这里。And if you look, the LinuxII kernel is down here.156301:16:35,750 --> 01:16:39,490但是男孩，随着我们通过Firefox，Android和Windows的发展But boy, as we get on throughFirefox and Android and Windows156401:16:39,490 --> 01:16:42,700顺便说一句，截止到一周前，7, which is expired, bythe way, as of a week ago,156501:16:42,700 --> 01:16:45,430我们一直努力到其中的一些，and we work our way downto some of these others,156601:16:45,430 --> 01:16:50,830我们了解Facebook和OS X Tiger OS X 10之类的内容。we get to things like Facebookand OS X Tiger OS X 10.156701:16:50,830 --> 01:16:54,670然后，一辆现代汽车以1亿行代码出现在这里。And then a modern car is up hereat 100 million lines of code.156801:16:54,670 --> 01:17:00,070看看，鼠标有1.2亿行代码。And look, a mouse 120million lines of code.156901:17:00,070 --> 01:17:03,550这就是我们软件的复杂程度So that's a level ofcomplexity that our software157001:17:03,550 --> 01:17:04,510在当下。is at these days.157101:17:04,510 --> 01:17:10,310我认为这是一种有趣的可视化效果。I think that's kind of a funvisualization to actually see.157201:17:10,310 --> 01:17:12,300我想举一个例子。I wanted to give one example.157301:17:12,300 --> 01:17:16,020那么火星漫游者，有多少人So the Mars Rover,how many people157401:17:16,020 --> 01:17:17,270听说过探路者吗？have ever heard of Pathfinder?157501:17:17,270 --> 01:17:20,100这是一个古老的故事，但它很有趣。This is an old story, butit's kind of interesting.157601:17:20,100 --> 01:17:23,900这是第一个真正成功的漫游者之一So this was one of the firstreally successful rovers157701:17:23,900 --> 01:17:25,950被送到火星。that was sent to Mars.157801:17:25,950 --> 01:17:28,080它有一个非常有趣的交付系统。And it had a reallyinteresting delivery system.157901:17:28,080 --> 01:17:32,010因此，您可能会认为，这东西要去火星，So you probably think, well,this thing goes to Mars,158001:17:32,010 --> 01:17:36,427它用火箭降落，所以它轻轻地降落and it lands using rockets sothat it touched down lightly158101:17:36,427 --> 01:17:37,010在地上。on the ground.158201:17:37,010 --> 01:17:38,385不，不，那不是他们所做的。No, no, that'snot what they did.158301:17:38,385 --> 01:17:39,530太复杂了。That's too complicated.158401:17:39,530 --> 01:17:41,420他们所做的是，他们拿了这个东西，What they did was,they took this item,158501:17:41,420 --> 01:17:43,160一旦进入火星轨道，once it was inorbit around Mars,158601:17:43,160 --> 01:17:44,480他们必须先到达那里。they had to get there first.158701:17:44,480 --> 01:17:47,648他们在它周围放了一个大气球，然后反弹。They put a huge balloonaround it and they bounced it.158801:17:47,648 --> 01:17:49,190他们把它从大气中扔下去，They dumped it outof the atmosphere,158901:17:49,190 --> 01:17:51,232它在地上弹起，弹了几次，it bounced on the ground,it bounced a few times,159001:17:51,232 --> 01:17:53,540他们打开它，然后开车走了。they opened it up, andthen it drove away.159101:17:53,540 --> 01:17:54,800那么什么是交付系统。So what a delivery system.159201:17:57,450 --> 01:18:02,062但是这个特殊的探路者统计数据非常有限，But this particular Pathfinderhad very limited statistics,159301:18:02,062 --> 01:18:03,520但是它可以做各种各样的事情。but it could doall sorts of stuff.159401:18:03,520 --> 01:18:05,940他们有相机和科学仪器They had cameras andscientific instruments159501:18:05,940 --> 01:18:08,320当然还有电池和太阳能电池板and of course, there werebatteries and solar panels159601:18:08,320 --> 01:18:10,710和运动设备来解决这个问题。and locomotion equipmentto get it around.159701:18:10,710 --> 01:18:13,110不利的一面是，您无法按下“重置”按钮And the downside was, youcouldn't hit the reset button159801:18:13,110 --> 01:18:14,850非常容易地。very easily.159901:18:14,850 --> 01:18:18,210并不是说可以重启，控制alt删除，It's not like you can say,reboot, control alt delete,160001:18:18,210 --> 01:18:21,060或您当前使用的重启技术是什么？or whatever your currentreboot technology is, right?160101:18:21,060 --> 01:18:25,890这就是为什么So this is a greatinstance of why160201:18:25,890 --> 01:18:30,090您必须设计真正结构良好的软件you've got to design reallywell-structured software that160301:18:30,090 --> 01:18:31,400不会失败。won't fail.160401:18:31,400 --> 01:18:33,660并且各个程序本身不应该失败。And the individual programsthemselves shouldn't fail.160501:18:33,660 --> 01:18:36,810因此，假设火星人通用翻译器So suppose the Martianuniversal translator160601:18:36,810 --> 01:18:40,740跟火星人说话最好不要to talk to the Martiansbetter not crash160701:18:40,740 --> 01:18:42,330搞崩了天线定位软件，the antennapositioning software,160801:18:42,330 --> 01:18:44,730因为在忙于与火星人交谈时，because while it's busytalking to Martians,160901:18:44,730 --> 01:18:47,850如果天线不直接指向地球，if the antenna is not pointeddirectly at the Earth,161001:18:47,850 --> 01:18:50,250那你就不能再和流动站说话了then you can no longertalk to the rover161101:18:50,250 --> 01:18:52,260你有麻烦了吧？and you're in trouble, right?161201:18:52,260 --> 01:18:56,040因此，软件有时可能会崩溃，And so also, softwaremay crash occasionally,161301:18:56,040 --> 01:18:58,380所以您需要某种方式来自动重启so you need to have some wayof automatically restarting161401:18:58,380 --> 01:19:00,930并将诊断信息发送到地球。and sendingdiagnostics to earth.161501:19:00,930 --> 01:19:03,510而且某些功能对时间要求很高，And certain functionsare time critical,161601:19:03,510 --> 01:19:05,430就像不要碰到东西。like don't run into things.161701:19:05,430 --> 01:19:09,310您必须在月球车掉下悬崖之前停下它。You've got to stop the roverbefore it goes off a cliff.161801:19:09,310 --> 01:19:11,760因此，想想这是一种有趣的事情So it is kind ofinteresting to think161901:19:11,760 --> 01:19:17,070关于那种技术水平和物联网，about that level of technologyand the internet of things,162001:19:17,070 --> 01:19:20,520设备比流动站复杂得多。where the devices have morecomplexity than that rover did.162101:19:20,520 --> 01:19:22,350而且可能有很多（设备）And there's potentiallymany of them162201:19:22,350 --> 01:19:24,723没有人可以真正重启它们。out there that nobodycan actually reboot.162301:19:24,723 --> 01:19:26,640因此，火星漫游者的一些教训And so some of the lessonsfrom the Mars Rover162401:19:26,640 --> 01:19:31,290可能会开始影响我们设计这些设备的方式。might start to impinge howwe design these devices.162501:19:31,290 --> 01:19:32,880有一个有趣的故事，There is someinteresting story, which162601:19:32,880 --> 01:19:37,620将要再讲一次关于这辆漫游车的演讲will be for another lecture,about how this particular rover162701:19:37,620 --> 01:19:43,500陷入了根本导致优先级倒置的问题got into a priority inversionproblem that basically caused162801:19:43,500 --> 01:19:45,000它会定期崩溃。it to crash on a regular basis.162901:19:45,000 --> 01:19:49,050他们设法调试并上传了补丁And they managed to debugit and upload a patch163001:19:49,050 --> 01:19:50,970并从地球上修复它。and fix it from Earth.163101:19:50,970 --> 01:19:54,100真是太神奇了。Which is pretty amazing.163201:19:54,100 --> 01:19:55,890那么，您如何应对复杂性？So how do you tame complexity?163301:19:55,890 --> 01:19:58,498每个计算机硬件都是不同的。Every piece of computerhardware is different.163401:19:58,498 --> 01:20:00,540不同的CPU，不同数量的存储磁盘，Different CPUs, differentamounts of memory disk,163501:20:00,540 --> 01:20:02,640不同类型的设备，不同的网络different types of devices,different networking163601:20:02,640 --> 01:20:04,020环境。environments.163701:20:04,020 --> 01:20:05,850问题是，程序员The question is,does the programmer163801:20:05,850 --> 01:20:08,010需要编写一个程序来执行need to write a singleprogram that performs163901:20:08,010 --> 01:20:09,300许多独立活动？many independent activities?164001:20:09,300 --> 01:20:10,770潜在地。Potentially.164101:20:10,770 --> 01:20:12,270程序是否需要更改Does the programhave to be altered164201:20:12,270 --> 01:20:13,650针对每个硬件？for every piece of hardware?164301:20:13,650 --> 01:20:14,650最好别。Better not.164401:20:14,650 --> 01:20:15,150对？Right?164501:20:15,150 --> 01:20:15,858考虑一下。Think about that.164601:20:15,858 --> 01:20:18,270如果每个版本都必须编写一个单独的版本If every version of-- you hadto write a separate version164701:20:18,270 --> 01:20:21,270每个程序要处理略有不同的磁盘of every program to deal witha slightly different disk164801:20:21,270 --> 01:20:23,880驱动器或内存量略有不同，drive or a slightlydifferent amount of memory,164901:20:23,880 --> 01:20:25,450那太荒谬了。that would be ridiculous.165001:20:25,450 --> 01:20:30,540所以说真的，您可以说它确实有一个错误的程序And so really, you can then sayit does a faulty program have165101:20:30,540 --> 01:20:32,040使一切崩溃？to crash everything?165201:20:32,040 --> 01:20:33,250那也不应该是真的。That also shouldn't be true.165301:20:33,250 --> 01:20:35,730因此，这是一些驯服复杂性的问题So these are some of thecomplexity taming questions165401:20:35,730 --> 01:20:38,670我们将要开始询问。that we're goingto start asking.165501:20:38,670 --> 01:20:41,130每个程序都可以访问所有硬件吗？Does every program have accessto all pieces of hardware?165601:20:41,130 --> 01:20:42,300可能不是。Probably not.165701:20:42,300 --> 01:20:45,060这是导致事情崩溃的好方法。That's a good way tocause things to crash.165801:20:45,060 --> 01:20:48,000因此，我们将基本上讨论And so we're going tobasically talk about,165901:20:48,000 --> 01:20:50,850从本课的早期开始，关于虚拟机的想法from early on in this class,this idea of a virtual machine166001:20:50,850 --> 01:20:55,440抽象，操作系统会隐藏abstraction, where theoperating system hides166101:20:55,440 --> 01:20:57,780应用程序中硬件的混乱情况。the messiness of the hardwarefrom the application.166201:20:57,780 --> 01:20:59,720这将是一个平均值。And that's going to be a mean.166301:20:59,720 --> 01:21:02,080Hashtag虚拟机，好吗？Hashtag virtual machine, okay?166401:21:02,080 --> 01:21:03,580这将是我们要做的This is going tobe what we're going166501:21:03,580 --> 01:21:05,640做尝试使这些东西工作。to do to try to make this work.166601:21:05,640 --> 01:21:10,242顺便说一句，我八岁的儿子一直在说By the way, my son, who'seight, has been somehow saying166701:21:10,242 --> 01:21:11,700hashtag所有内容，然后我hashtag everythingright now, and I166801:21:11,700 --> 01:21:13,200觉得他甚至不懂那是什么don't think he evenunderstands what166901:21:13,200 --> 01:21:14,520这很-that means, which is pretty--167001:21:14,520 --> 01:21:16,330hashtag！hashtag!167101:21:16,330 --> 01:21:17,130操作系统工具。OS tool.167201:21:17,130 --> 01:21:18,660无论如何。Anyway.167301:21:18,660 --> 01:21:21,270我们将谈论很多关于虚拟机的事情，We're going to talk a lotabout virtual machines,167401:21:21,270 --> 01:21:22,720不同种类。different types.167501:21:22,720 --> 01:21:25,680我们将讨论流程虚拟机，并且We'll talk aboutprocess VMs, and we'll167601:21:25,680 --> 01:21:30,350讨论故障隔离以及虚拟机如何帮助您。talk about fault isolation andhow VMs help you with that.167701:21:30,350 --> 01:21:32,850我今天不会对此做更多的事情，因为我们And I'm not going to do moreabout that today, because we're167801:21:32,850 --> 01:21:33,880运行时间不足。running low on time.167901:21:33,880 --> 01:21:36,120最后，我要说的是！But I am going tosay, in conclusion!168001:21:38,880 --> 01:21:41,910操作系统提供虚拟机抽象Operating systems provide avirtual machine abstraction168101:21:41,910 --> 01:21:45,690为了隐藏各种硬件，我们已经开始谈论它。to hide diverse hardware, we'vestarted talking about that.168201:21:45,690 --> 01:21:48,330操作系统简化了应用程序开发Operating systems simplifyapplication development168301:21:48,330 --> 01:21:50,550通过提供共享服务。by providing shared services.168401:21:50,550 --> 01:21:55,220它们协调资源并保护用户彼此之间。They coordinate resources andprotect users from each other.168501:21:55,220 --> 01:21:59,630基本上，CS 162将要结合在一起And basically, CS 162 isgoing to combine things168601:21:59,630 --> 01:22:02,360来自计算机科学，语言的许多领域，from many areas of computerscience, languages,168701:22:02,360 --> 01:22:05,780数据结构，硬件算法，安全性，data structures, hardwarealgorithms, security,168801:22:05,780 --> 01:22:08,510您命名，我们将进行介绍。you name it, wewill touch on it.168901:22:08,510 --> 01:22:09,980好吧，你们开始-All right, you guysstart getting--169001:22:09,980 --> 01:22:11,900开始做零作业。get working on Homework Zero.169101:22:11,900 --> 01:22:14,280我们有ETA吗？Do we have an ETA?169201:22:14,280 --> 01:22:14,780午夜！Midnight!169301:22:17,330 --> 01:22:19,570星期四见。See you guys on Thursday.


```

